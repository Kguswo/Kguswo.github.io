<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="docker compose 로 Kafka + ELK stack 사용" />
<meta property="og:locale" content="en" />
<meta name="description" content="여러 채용 공고 및 회사별 기술 스택을 보며 대부분 MSA아키텍처를 채택하며 이를 분석하는데 ELK Stack을 사용하는것을 보고 파이프라인을 구현해보았습니다." />
<meta property="og:description" content="여러 채용 공고 및 회사별 기술 스택을 보며 대부분 MSA아키텍처를 채택하며 이를 분석하는데 ELK Stack을 사용하는것을 보고 파이프라인을 구현해보았습니다." />
<link rel="canonical" href="https://kguswo.github.io/posts/docker-compose-%EB%A1%9C-Kafka-ELK-stack-%EC%82%AC%EC%9A%A9/" />
<meta property="og:url" content="https://kguswo.github.io/posts/docker-compose-%EB%A1%9C-Kafka-ELK-stack-%EC%82%AC%EC%9A%A9/" />
<meta property="og:site_name" content="Now’s Log" />
<meta property="og:image" content="https://kguswo.github.io/../assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-10-09T17:28:51+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://kguswo.github.io/../assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png" />
<meta property="twitter:title" content="docker compose 로 Kafka + ELK stack 사용" />
<meta name="twitter:site" content="@twitter_username" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-10-09T17:28:51+09:00","datePublished":"2024-10-09T17:28:51+09:00","description":"여러 채용 공고 및 회사별 기술 스택을 보며 대부분 MSA아키텍처를 채택하며 이를 분석하는데 ELK Stack을 사용하는것을 보고 파이프라인을 구현해보았습니다.","headline":"docker compose 로 Kafka + ELK stack 사용","image":"https://kguswo.github.io/../assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kguswo.github.io/posts/docker-compose-%EB%A1%9C-Kafka-ELK-stack-%EC%82%AC%EC%9A%A9/"},"url":"https://kguswo.github.io/posts/docker-compose-%EB%A1%9C-Kafka-ELK-stack-%EC%82%AC%EC%9A%A9/"}</script>
<!-- End Jekyll SEO tag -->


  <title>docker compose 로 Kafka + ELK stack 사용 | Now's Log
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Now's Log">
<meta name="application-name" content="Now's Log">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profileImg.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Now's Log</a>
    <p class="site-subtitle fst-italic mb-0">Curiosity into Action</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Kguswo"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/hyeon-jae-kim-64b417299/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nowalex322','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>docker compose 로 Kafka + ELK stack 사용</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>docker compose 로 Kafka + ELK stack 사용</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1728462531"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Oct  9, 2024
</time>

      </span>

      <!-- lastmod date -->
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/../assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png" class="popup img-link preview-img shimmer"><img src="/../assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3308 words"
>
  <em>18 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">docker compose 로 Kafka + ELK stack 사용</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">docker compose 로 Kafka + ELK stack 사용</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <blockquote>
  <p>여러 채용 공고 및 회사별 기술 스택을 보며 대부분 MSA아키텍처를 채택하며 이를 분석하는데 ELK Stack을 사용하는것을 보고 파이프라인을 구현해보았습니다.</p>
</blockquote>

<h2 id="elk-스택-파이프라인"><span class="me-2">ELK 스택 파이프라인</span><a href="#elk-스택-파이프라인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>먼저 전체적인 파이프라인 및 디렉토리 구조입니다. ( 터미널에서 <code class="language-plaintext highlighter-rouge">tree</code> 혹은 <code class="language-plaintext highlighter-rouge">tree -f</code> 로 볼 수 있음 )</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre>├── docker-elk-stack  						<span class="c"># ELK 스택을 위한 Docker 구성 디렉토리</span>
│   ├── docker-compose.yml  				<span class="c"># 전체 ELK 스택 서비스 정의 및 구성</span>
│   ├── elasticsearch  						<span class="c"># Elasticsearch 관련 파일</span>
│   │   ├── Dockerfile  					<span class="c"># Elasticsearch 컨테이너 빌드 스크립트</span>
│   │   └── config
│   │       └── elasticsearch.yml  			<span class="c"># Elasticsearch 설정 파일</span>
│   ├── filebeat  							<span class="c"># Filebeat 관련 파일</span>
│   │   └── config
│   │       └── filebeat.yml  				<span class="c"># Filebeat 설정 파일 (로그 수집 및 전송 구성)</span>
│   ├── kibana  							<span class="c"># Kibana 관련 파일</span>
│   │   ├── Dockerfile  					<span class="c"># Kibana 컨테이너 빌드 스크립트</span>
│   │   └── config
│   │       └── kibana.yml  				<span class="c"># Kibana 설정 파일</span>
│   └── logstash  							<span class="c"># Logstash 관련 파일</span>
│       ├── Dockerfile  					<span class="c"># Logstash 컨테이너 빌드 스크립트</span>
│       ├── config
│       │   ├── logstash.yml  				<span class="c"># Logstash 주 설정 파일</span>
│       │   └── pipelines.yml  				<span class="c"># Logstash 파이프라인 정의 파일</span>
│       └── pipeline
│           └── logstash.conf  				<span class="c"># Logstash 파이프라인 설정 파일</span>
├── logs
│   ├── application.log  					<span class="c"># 애플리케이션 로그 파일 (Filebeat가 수집할 대상)</span>

</pre></td></tr></tbody></table></code></div></div>
<p><br /></p>

<h3 id="올바른-elk-stack--kafka-흐름"><span class="me-2">올바른 ELK stack + Kafka 흐름</span><a href="#올바른-elk-stack--kafka-흐름" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ol>
  <li>애플리케이션이 application.log에 로그를 작성합니다.</li>
  <li>Filebeat가 application.log 파일을 읽습니다.</li>
  <li>Filebeat가 로그 데이터를 Kafka(토픽: “OMG”)로 전송합니다.</li>
  <li>Logstash가 Kafka 토픽에서 데이터를 읽습니다.</li>
  <li>Logstash가 로그 데이터를 처리(필터 적용)하고 Elasticsearch로 전송합니다.</li>
  <li>Kibana가 Elasticsearch에서 로그 데이터를 읽어 시각화합니다.</li>
</ol>

<p>일반적인 ELK 스택 구성과의 주요 차이점은 Filebeat와 Logstash 사이에 Kafka가 있다는 것입니다. 이 구성은 더 나은 확장성과 컴포넌트 간의 분리를 가능하게 합니다.</p>

<p>기본적으로 모두 도커로 띄워 설치관리하였습니다. 로컬에서만 테스트해볼 예정이라면 Docker Desktop 사용을 권장드립니다. 참고로 진행환경은 MacOS M3입니다.</p>

<p>다음으로 코드를 알아보겠습니다.</p>

<h3 id="applicationyml"><span class="me-2">application.yml</span><a href="#applicationyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre>logging:
  file:
    name: /app/logs/application.log
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  level:
    org.hibernate.SQL: debug
    com.ssafy.omg: debug


  kafka:
    producer:
      bootstrap-servers: kafka:9092
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
    consumer:
      bootstrap-servers: kafka:9092
      group-id: your-group-id
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer

</pre></td></tr></tbody></table></code></div></div>
<p>로컬에서 테스트하신다면 kafka 설정 부분에서
localhost:9092로 바꾸면 됩니다.</p>

<h3 id="docker-composeyml"><span class="me-2">docker-compose.yml</span><a href="#docker-composeyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
</pre></td><td class="rouge-code"><pre><span class="nl">services:</span>
  <span class="nl">elasticsearch:</span>
    <span class="nl">image:</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="nl">elasticsearch:</span><span class="mf">8.11</span><span class="o">.</span><span class="mi">1</span>
    <span class="nl">container_name:</span> <span class="n">elasticsearch</span>
    <span class="nl">environment:</span>
      <span class="o">-</span> <span class="n">discovery</span><span class="o">.</span><span class="na">type</span><span class="o">=</span><span class="n">single</span><span class="o">-</span><span class="n">node</span>
      <span class="o">-</span> <span class="s">"ES_JAVA_OPTS=-Xms512m -Xmx512m"</span>
      <span class="o">-</span> <span class="no">ELASTIC_PASSWORD</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">ELASTIC_PASSWORD</span><span class="o">}</span>
      <span class="o">-</span> <span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">enabled</span><span class="o">=</span><span class="kc">true</span>
      <span class="o">-</span> <span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">authc</span><span class="o">.</span><span class="na">token</span><span class="o">.</span><span class="na">enabled</span><span class="o">=</span><span class="kc">true</span>
      <span class="o">-</span> <span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">authc</span><span class="o">.</span><span class="na">api_key</span><span class="o">.</span><span class="na">enabled</span><span class="o">=</span><span class="kc">true</span>


    <span class="nl">ports:</span>
      <span class="o">-</span> <span class="mi">9200</span><span class="o">:</span><span class="mi">9200</span>
      <span class="o">-</span> <span class="mi">9300</span><span class="o">:</span><span class="mi">9300</span>
    <span class="nl">volumes:</span>
      <span class="o">-</span> <span class="nl">elasticsearch_data:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="n">data</span>
    <span class="nl">healthcheck:</span>
      <span class="nl">test:</span> <span class="o">[</span> <span class="s">"CMD-SHELL"</span><span class="o">,</span> <span class="s">"curl -s -u elastic:${ELASTIC_PASSWORD} http://localhost:9200 &gt;/dev/null || exit 1"</span> <span class="o">]</span>
      <span class="nl">interval:</span> <span class="mi">30</span><span class="n">s</span>
      <span class="nl">timeout:</span> <span class="mi">10</span><span class="n">s</span>
      <span class="nl">retries:</span> <span class="mi">5</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>

  <span class="nl">logstash:</span>
    <span class="nl">build:</span>
      <span class="nl">context:</span> <span class="o">./</span><span class="n">logstash</span>
      <span class="nl">dockerfile:</span> <span class="nc">Dockerfile</span>
      <span class="nl">args:</span>
        <span class="nl">ELK_VERSION:</span> <span class="mf">8.11</span><span class="o">.</span><span class="mi">1</span>
    <span class="nl">container_name:</span> <span class="n">logstash</span>
    <span class="nl">ports:</span>
      <span class="o">-</span> <span class="mi">5001</span><span class="o">:</span><span class="mi">5000</span>
    <span class="nl">volumes:</span>
      <span class="o">-</span> <span class="o">./</span><span class="n">logstash</span><span class="o">/</span><span class="nl">pipeline:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">pipeline</span>
      <span class="o">-</span> <span class="o">./</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">logstash</span><span class="o">.</span><span class="na">yml</span><span class="o">:/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">logstash</span><span class="o">.</span><span class="na">yml</span>
      <span class="o">-</span> <span class="o">./</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">pipelines</span><span class="o">.</span><span class="na">yml</span><span class="o">:/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">pipelines</span><span class="o">.</span><span class="na">yml</span>
      <span class="o">-</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span><span class="nl">logs:</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">logs</span>
    <span class="nl">depends_on:</span>
      <span class="nl">elasticsearch:</span>
        <span class="nl">condition:</span> <span class="n">service_healthy</span>
      <span class="nl">kafka:</span>
        <span class="nl">condition:</span> <span class="n">service_started</span>
    <span class="nl">environment:</span>
      <span class="o">-</span> <span class="no">SLACK_WEBHOOK_URL</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">SLACK_WEBHOOK_URL</span><span class="o">}</span>
      <span class="o">-</span> <span class="no">LANG</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
      <span class="o">-</span> <span class="no">LC_ALL</span><span class="o">=</span><span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
      <span class="o">-</span> <span class="no">LS_JAVA_OPTS</span><span class="o">=-</span><span class="nc">Xmx1g</span> <span class="o">-</span><span class="nc">Xms1g</span>
      <span class="o">-</span> <span class="no">ELASTIC_USERNAME</span><span class="o">=</span><span class="n">elastic</span>
      <span class="o">-</span> <span class="no">ELASTIC_PASSWORD</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">ELASTIC_PASSWORD</span><span class="o">}</span>
      <span class="o">-</span> <span class="no">LOG_LEVEL_DEBUG</span>
    <span class="nl">healthcheck:</span>
      <span class="nl">test:</span> <span class="o">[</span> <span class="s">"CMD"</span><span class="o">,</span> <span class="s">"curl"</span><span class="o">,</span> <span class="s">"-f"</span><span class="o">,</span> <span class="s">"http://localhost:9600"</span> <span class="o">]</span>
      <span class="nl">interval:</span> <span class="mi">30</span><span class="n">s</span>
      <span class="nl">timeout:</span> <span class="mi">10</span><span class="n">s</span>
      <span class="nl">retries:</span> <span class="mi">5</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>


  <span class="nl">kibana:</span>
    <span class="nl">image:</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">kibana</span><span class="o">/</span><span class="nl">kibana:</span><span class="mf">8.11</span><span class="o">.</span><span class="mi">1</span>
    <span class="nl">container_name:</span> <span class="n">kibana</span>
    <span class="nl">ports:</span>
      <span class="o">-</span> <span class="mi">5601</span><span class="o">:</span><span class="mi">5601</span>
    <span class="nl">depends_on:</span>
      <span class="nl">elasticsearch:</span>
        <span class="nl">condition:</span> <span class="n">service_healthy</span>
    <span class="nl">environment:</span>
      <span class="o">-</span> <span class="no">ELASTICSEARCH_HOSTS</span><span class="o">=</span><span class="nl">http:</span><span class="c1">//elasticsearch:9200</span>
      <span class="o">-</span> <span class="no">ELASTICSEARCH_SERVICEACCOUNTTOKEN</span><span class="o">=</span><span class="err">$</span><span class="o">{</span><span class="no">KIBANA_SERVICE_TOKEN</span><span class="o">}</span>
      <span class="o">-</span> <span class="no">ELASTICSEARCH_SSL_VERIFICATIONMODE</span><span class="o">=</span><span class="n">none</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>


  <span class="nl">zookeeper:</span>
    <span class="nl">image:</span> <span class="n">wurstmeister</span><span class="o">/</span><span class="n">zookeeper</span>
    <span class="nl">container_name:</span> <span class="n">zookeeper</span>
    <span class="nl">ports:</span>
      <span class="o">-</span> <span class="mi">2181</span><span class="o">:</span><span class="mi">2181</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>


  <span class="nl">kafka:</span>
    <span class="nl">image:</span> <span class="n">wurstmeister</span><span class="o">/</span><span class="n">kafka</span>
    <span class="nl">container_name:</span> <span class="n">kafka</span>
    <span class="nl">ports:</span>
      <span class="o">-</span> <span class="s">"9092:9092"</span>
      <span class="o">-</span> <span class="s">"9093:9093"</span>
    <span class="nl">volumes:</span>
      <span class="o">-</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span><span class="nl">logs:</span><span class="o">/</span><span class="n">logs</span>
    <span class="nl">environment:</span>
      <span class="nl">KAFKA_ADVERTISED_LISTENERS:</span> <span class="nl">INSIDE:</span><span class="c1">//kafka:9092,OUTSIDE://localhost:9093</span>
      <span class="nl">KAFKA_LISTENER_SECURITY_PROTOCOL_MAP:</span> <span class="nl">INSIDE:</span><span class="no">PLAINTEXT</span><span class="o">,</span><span class="nl">OUTSIDE:</span><span class="no">PLAINTEXT</span>
      <span class="nl">KAFKA_LISTENERS:</span> <span class="nl">INSIDE:</span><span class="c1">//0.0.0.0:9092,OUTSIDE://0.0.0.0:9093</span>
      <span class="nl">KAFKA_ZOOKEEPER_CONNECT:</span> <span class="nl">zookeeper:</span><span class="mi">2181</span>
      <span class="nl">KAFKA_INTER_BROKER_LISTENER_NAME:</span> <span class="no">INSIDE</span>
      <span class="nl">KAFKA_NUM_PARTITIONS:</span> <span class="mi">3</span>
      <span class="nl">KAFKA_LOG_FLUSH_INTERVAL_MESSAGES:</span> <span class="mi">10000</span>
      <span class="nl">KAFKA_LOG_FLUSH_INTERVAL_MS:</span> <span class="mi">1000</span>
    <span class="nl">depends_on:</span>
      <span class="o">-</span> <span class="n">zookeeper</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>


  <span class="nl">filebeat:</span>
    <span class="nl">image:</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">beats</span><span class="o">/</span><span class="nl">filebeat:</span><span class="mf">8.11</span><span class="o">.</span><span class="mi">1</span>
    <span class="nl">container_name:</span> <span class="n">filebeat</span>
    <span class="nl">volumes:</span>
      <span class="o">-</span> <span class="o">./</span><span class="n">filebeat</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">filebeat</span><span class="o">.</span><span class="na">yml</span><span class="o">:/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">filebeat</span><span class="o">/</span><span class="n">filebeat</span><span class="o">.</span><span class="na">yml</span>
      <span class="o">-</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span><span class="nl">logs:</span><span class="o">/</span><span class="n">logs</span>
    <span class="nl">command:</span> <span class="o">[</span> <span class="s">"filebeat"</span><span class="o">,</span> <span class="s">"-e"</span><span class="o">,</span> <span class="s">"-strict.perms=false"</span> <span class="o">]</span>
    <span class="nl">depends_on:</span>
      <span class="o">-</span> <span class="n">kafka</span>
      <span class="o">-</span> <span class="n">logstash</span>
    <span class="nl">networks:</span>
      <span class="o">-</span> <span class="n">elk_network</span>


<span class="nl">volumes:</span>
  <span class="nl">elasticsearch_data:</span>
    <span class="nl">driver:</span> <span class="n">local</span>


<span class="nl">networks:</span>
  <span class="nl">elk_network:</span>
    <span class="nl">driver:</span> <span class="n">bridge</span>

</pre></td></tr></tbody></table></code></div></div>
<p>마찬가지로 로컬 환경에서 테스트 하신다면 volume에서 마운트 하는 경로를 /home/ubuntu 부분을 ../logs등으로 바꾸시면됩니다.</p>

<hr />
<h2 id="filebeat"><span class="me-2">Filebeat</span><a href="#filebeat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<h4 id="filebeatyml"><span class="me-2">filebeat.yml</span><a href="#filebeatyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="n">filebeat</span><span class="o">.</span><span class="na">inputs</span><span class="o">:</span>
  <span class="o">-</span> <span class="nl">type:</span> <span class="n">log</span>
    <span class="nl">paths:</span>
      <span class="o">-</span> <span class="o">/</span><span class="n">logs</span><span class="o">/*.</span><span class="na">log</span>
    <span class="nl">close_inactive:</span> <span class="mi">5</span><span class="n">s</span>
    <span class="nl">scan_frequency:</span> <span class="mi">1</span><span class="n">s</span>

<span class="n">output</span><span class="o">.</span><span class="na">kafka</span><span class="o">:</span>
  <span class="nl">hosts:</span> <span class="o">[</span> <span class="s">"kafka:9092"</span> <span class="o">]</span>
  <span class="nl">topic:</span> <span class="s">"OMG"</span>
  <span class="n">partition</span><span class="o">.</span><span class="na">round_robin</span><span class="o">:</span>
    <span class="nl">reachable_only:</span> <span class="kc">false</span>
  <span class="nl">required_acks:</span> <span class="mi">1</span>
  <span class="nl">compression:</span> <span class="n">gzip</span>
  <span class="nl">max_message_bytes:</span> <span class="mi">1000000</span>
  <span class="n">codec</span><span class="o">.</span><span class="na">json</span><span class="o">:</span>
    <span class="nl">pretty:</span> <span class="kc">false</span>

<span class="nl">processors:</span>
  <span class="o">-</span> <span class="nl">add_host_metadata:</span> <span class="o">~</span>
  <span class="o">-</span> <span class="nl">add_cloud_metadata:</span> <span class="o">~</span>

<span class="n">queue</span><span class="o">.</span><span class="na">mem</span><span class="o">:</span>
  <span class="nl">events:</span> <span class="mi">1024</span>
  <span class="n">flush</span><span class="o">.</span><span class="na">min_events</span><span class="o">:</span> <span class="mi">10</span>
  <span class="n">flush</span><span class="o">.</span><span class="na">timeout</span><span class="o">:</span> <span class="s">"100ms"</span>
</pre></td></tr></tbody></table></code></div></div>

<hr />
<h2 id="kafka"><span class="me-2">Kafka</span><a href="#kafka" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>카프카는 이벤트 메시지 브로커로 도커로 이미지를 실행하여 진행했습니다.
차후 실행 방법과 함께 다루도록 하겠습니다.</p>

<hr />

<h2 id="logstash"><span class="me-2">logstash</span><a href="#logstash" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<h4 id="logstashyml"><span class="me-2">logstash.yml</span><a href="#logstashyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="err">##</span> <span class="nc">Default</span> <span class="nc">Logstash</span> <span class="n">configuration</span> <span class="n">from</span> <span class="nc">Logstash</span> <span class="n">base</span> <span class="n">image</span><span class="o">.</span>
<span class="err">##</span> <span class="nl">https:</span><span class="c1">//github.com/elastic/logstash/blob/master/docker/data/logstash/config/logstash-full.yml</span>
<span class="err">#</span>
<span class="n">http</span><span class="o">.</span><span class="na">host</span><span class="o">:</span> <span class="s">"0.0.0.0"</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">hosts</span><span class="o">:</span> <span class="o">[</span> <span class="s">"elasticsearch:9200"</span> <span class="o">]</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">username</span><span class="o">:</span> <span class="s">"elastic"</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">password</span><span class="o">:</span> <span class="err">$</span><span class="o">{</span><span class="no">ELASTIC_PASSWORD</span><span class="o">}</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">collection</span><span class="o">.</span><span class="na">pipeline</span><span class="o">.</span><span class="na">details</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="err">#</span><span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">api_key</span><span class="o">:</span> <span class="kc">null</span>
<span class="err">#</span><span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">data_stream</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">pipeline</span><span class="o">.</span><span class="na">ordered</span><span class="o">:</span> <span class="kc">false</span>
<span class="n">pipeline</span><span class="o">.</span><span class="na">workers</span><span class="o">:</span> <span class="mi">2</span>
<span class="n">pipeline</span><span class="o">.</span><span class="na">batch</span><span class="o">.</span><span class="na">size</span><span class="o">:</span> <span class="mi">125</span>
<span class="n">pipeline</span><span class="o">.</span><span class="na">batch</span><span class="o">.</span><span class="na">delay</span><span class="o">:</span> <span class="mi">50</span>

<span class="n">log</span><span class="o">.</span><span class="na">level</span><span class="o">:</span> <span class="n">debug</span>
</pre></td></tr></tbody></table></code></div></div>
<h4 id="pipelinesyml"><span class="me-2">pipelines.yml</span><a href="#pipelinesyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">-</span> <span class="n">pipeline</span><span class="o">.</span><span class="na">id</span><span class="o">:</span> <span class="n">main</span>
  <span class="n">path</span><span class="o">.</span><span class="na">config</span><span class="o">:</span> <span class="s">"/usr/share/logstash/pipeline/*.conf"</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="logstashconf"><span class="me-2">logstash.conf</span><a href="#logstashconf" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
</pre></td><td class="rouge-code"><pre><span class="n">input</span> <span class="o">{</span>
  <span class="n">kafka</span> <span class="o">{</span>
    <span class="n">bootstrap_servers</span> <span class="o">=&gt;</span> <span class="s">"kafka:9092"</span>
    <span class="n">topics</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s">"OMG"</span><span class="o">]</span>
    <span class="n">group_id</span> <span class="o">=&gt;</span> <span class="s">"logstash"</span>
    <span class="n">auto_offset_reset</span> <span class="o">=&gt;</span> <span class="s">"latest"</span>
    <span class="n">consumer_threads</span> <span class="o">=&gt;</span> <span class="mi">3</span>
    <span class="n">decorate_events</span> <span class="o">=&gt;</span> <span class="kc">true</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">filter</span> <span class="o">{</span>
    <span class="n">json</span> <span class="o">{</span>
        <span class="n">source</span> <span class="o">=&gt;</span> <span class="s">"message"</span>
        <span class="n">target</span> <span class="o">=&gt;</span> <span class="s">"parsed_json"</span>
        <span class="n">skip_on_invalid_json</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">[</span><span class="n">parsed_json</span><span class="o">]</span> <span class="o">{</span>
        <span class="n">mutate</span> <span class="o">{</span>
            <span class="n">rename</span> <span class="o">=&gt;</span> <span class="o">{</span> <span class="s">"[parsed_json][message]"</span> <span class="o">=&gt;</span> <span class="s">"log_entry"</span> <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">mutate</span> <span class="o">{</span>
            <span class="n">rename</span> <span class="o">=&gt;</span> <span class="o">{</span> <span class="s">"message"</span> <span class="o">=&gt;</span> <span class="s">"log_entry"</span> <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">grok</span> <span class="o">{</span>
        <span class="n">match</span> <span class="o">=&gt;</span> <span class="o">{</span>
            <span class="s">"log_entry"</span> <span class="o">=&gt;</span> <span class="o">[</span>
                <span class="s">"%{TIMESTAMP_ISO8601:timestamp} \[%{DATA:thread}\] %{LOGLEVEL:log_level} %{DATA:logger} - %{GREEDYDATA:log_message}"</span><span class="o">,</span>
                <span class="s">"%{TIMESTAMP_ISO8601:timestamp} \[%{DATA:thread}\] %{LOGLEVEL:log_level} %{GREEDYDATA:log_message}"</span><span class="o">,</span>
                <span class="s">"%{GREEDYDATA:log_message}"</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">date</span> <span class="o">{</span>
        <span class="n">match</span> <span class="o">=&gt;</span> <span class="o">[</span> <span class="s">"timestamp"</span><span class="o">,</span> <span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="o">,</span> <span class="s">"yyyy-MM-dd HH:mm:ss.SSS"</span><span class="o">,</span> <span class="s">"ISO8601"</span> <span class="o">]</span>
        <span class="n">target</span> <span class="o">=&gt;</span> <span class="s">"@timestamp"</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">[</span><span class="n">log_level</span><span class="o">]</span> <span class="o">==</span> <span class="s">"ERROR"</span> <span class="o">{</span>
        <span class="n">mutate</span> <span class="o">{</span>
            <span class="n">add_field</span> <span class="o">=&gt;</span> <span class="o">{</span>
                <span class="s">"error_type"</span> <span class="o">=&gt;</span> <span class="s">"application_error"</span>
                <span class="s">"slack_message"</span> <span class="o">=&gt;</span> <span class="s">"🚨 *에러 발생* 🚨\n*Timestamp:* %{timestamp}\n*Thread:* %{thread}\n*Logger:* %{logger}\n*Message:* %{log_message}"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">output</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span><span class="n">log_level</span><span class="o">]</span> <span class="o">==</span> <span class="s">"ERROR"</span> <span class="o">{</span>
        <span class="n">http</span> <span class="o">{</span>
            <span class="n">url</span> <span class="o">=&gt;</span> <span class="s">"${SLACK_WEBHOOK_URL}"</span>
            <span class="n">http_method</span> <span class="o">=&gt;</span> <span class="s">"post"</span>
            <span class="n">content_type</span> <span class="o">=&gt;</span> <span class="s">"application/json"</span>
            <span class="n">format</span> <span class="o">=&gt;</span> <span class="s">"message"</span>
            <span class="n">message</span> <span class="o">=&gt;</span> <span class="err">'</span><span class="o">{</span><span class="s">"text"</span><span class="o">:</span><span class="s">"%{slack_message}"</span><span class="o">}</span><span class="err">'</span>
            <span class="n">request_timeout</span> <span class="o">=&gt;</span> <span class="mi">60</span>
            <span class="n">retry_failed</span> <span class="o">=&gt;</span> <span class="kc">true</span>
            <span class="n">retryable_codes</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">500</span><span class="o">,</span> <span class="mi">502</span><span class="o">,</span> <span class="mi">503</span><span class="o">,</span> <span class="mi">504</span><span class="o">]</span>
        <span class="o">}</span>
        <span class="n">elasticsearch</span> <span class="o">{</span>
            <span class="n">hosts</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s">"http://elasticsearch:9200"</span><span class="o">]</span>
            <span class="n">index</span> <span class="o">=&gt;</span> <span class="s">"omg-game-error-log-%{+YYYY.MM.dd}"</span>
            <span class="n">user</span> <span class="o">=&gt;</span> <span class="s">"${ELASTIC_USERNAME}"</span>
            <span class="n">password</span> <span class="o">=&gt;</span> <span class="s">"${ELASTIC_PASSWORD}"</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">elasticsearch</span> <span class="o">{</span>
            <span class="n">hosts</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s">"http://elasticsearch:9200"</span><span class="o">]</span>
            <span class="n">index</span> <span class="o">=&gt;</span> <span class="s">"omg-game-log-%{+YYYY.MM.dd}"</span>
            <span class="n">user</span> <span class="o">=&gt;</span> <span class="s">"${ELASTIC_USERNAME}"</span>
            <span class="n">password</span> <span class="o">=&gt;</span> <span class="s">"${ELASTIC_PASSWORD}"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>
<p>http output 부분은 slack 에러 수신 웹훅 메시징도 추가한 부분입니다.</p>

<h4 id="dockerfile"><span class="me-2">Dockerfile</span><a href="#dockerfile" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="no">ARG</span> <span class="no">ELK_VERSION</span>

<span class="err">#</span> <span class="nl">https:</span><span class="c1">//www.docker.elastic.co/</span>
<span class="no">FROM</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="nl">logstash:</span><span class="err">$</span><span class="o">{</span><span class="no">ELK_VERSION</span><span class="o">}</span>

<span class="no">USER</span> <span class="n">root</span>

<span class="no">RUN</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">&amp;&amp;</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">locales</span>
<span class="no">RUN</span> <span class="n">locale</span><span class="o">-</span><span class="n">gen</span> <span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="no">ENV</span> <span class="no">LANG</span> <span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="no">ENV</span> <span class="no">LANGUAGE</span> <span class="nl">en_US:</span><span class="n">en</span>
<span class="no">ENV</span> <span class="no">LC_ALL</span> <span class="n">en_US</span><span class="o">.</span><span class="na">UTF</span><span class="o">-</span><span class="mi">8</span>

<span class="err">#</span> <span class="nc">Add</span> <span class="n">your</span> <span class="n">logstash</span> <span class="n">plugins</span> <span class="n">setup</span> <span class="n">here</span>
<span class="err">#</span> <span class="nl">Example:</span> <span class="no">RUN</span> <span class="n">logstash</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="n">logstash</span><span class="o">-</span><span class="n">filter</span><span class="o">-</span><span class="n">json</span>
<span class="no">RUN</span> <span class="n">logstash</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="n">logstash</span><span class="o">-</span><span class="n">output</span><span class="o">-</span><span class="n">http</span>

<span class="no">COPY</span> <span class="n">config</span><span class="o">/</span><span class="n">logstash</span><span class="o">.</span><span class="na">yml</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">logstash</span><span class="o">.</span><span class="na">yml</span>
<span class="no">COPY</span> <span class="n">config</span><span class="o">/</span><span class="n">pipelines</span><span class="o">.</span><span class="na">yml</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">pipelines</span><span class="o">.</span><span class="na">yml</span>
<span class="no">COPY</span> <span class="n">pipeline</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">logstash</span><span class="o">/</span><span class="n">pipeline</span>

<span class="no">USER</span> <span class="n">logstash</span>

<span class="no">CMD</span> <span class="o">[</span><span class="s">"logstash"</span><span class="o">,</span> <span class="s">"-f"</span><span class="o">,</span> <span class="s">"/usr/share/logstash/pipeline/logstash.conf"</span><span class="o">,</span> <span class="s">"--config.reload.automatic"</span><span class="o">]</span>

</pre></td></tr></tbody></table></code></div></div>
<hr />
<h2 id="elasticsearch"><span class="me-2">elasticsearch</span><a href="#elasticsearch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<h4 id="elasticsearchyml"><span class="me-2">elasticsearch.yml</span><a href="#elasticsearchyml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="err">##</span> <span class="nc">Default</span> <span class="nc">Elasticsearch</span> <span class="n">configuration</span> <span class="n">from</span> <span class="nc">Elasticsearch</span> <span class="n">base</span> <span class="n">image</span><span class="o">.</span>
<span class="err">##</span> <span class="nl">https:</span><span class="c1">//github.com/elastic/elasticsearch/blob/master/distribution/docker/src/docker/config/elasticsearch.yml</span>
<span class="err">#</span>
<span class="n">cluster</span><span class="o">.</span><span class="na">name</span><span class="o">:</span> <span class="s">"docker-cluster"</span>
<span class="n">network</span><span class="o">.</span><span class="na">host</span><span class="o">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>

<span class="err">##</span> <span class="no">X</span><span class="o">-</span><span class="nc">Pack</span> <span class="n">settings</span>
<span class="err">##</span> <span class="n">see</span> <span class="nl">https:</span><span class="c1">//www.elastic.co/guide/en/elasticsearch/reference/current/setup-xpack.html</span>
<span class="err">#</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">license</span><span class="o">.</span><span class="na">self_generated</span><span class="o">.</span><span class="na">type</span><span class="o">:</span> <span class="n">trial</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">authc</span><span class="o">.</span><span class="na">token</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">collection</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">discovery</span><span class="o">.</span><span class="na">type</span><span class="o">:</span> <span class="n">single</span><span class="o">-</span><span class="n">node</span>
<span class="n">index</span><span class="o">.</span><span class="na">refresh_interval</span><span class="o">:</span> <span class="s">"1s"</span>
</pre></td></tr></tbody></table></code></div></div>
<h4 id="dockerfile-1"><span class="me-2">Dockerfile</span><a href="#dockerfile-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="no">ARG</span> <span class="no">ELK_VERSION</span>

<span class="err">#</span> <span class="nl">https:</span><span class="c1">//www.docker.elastic.co/</span>
<span class="no">FROM</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="nl">elasticsearch:</span><span class="err">$</span><span class="o">{</span><span class="no">ELK_VERSION</span><span class="o">}</span>

<span class="err">#</span> <span class="nc">Add</span> <span class="n">your</span> <span class="n">elasticsearch</span> <span class="n">plugins</span> <span class="n">setup</span> <span class="n">here</span>
<span class="err">#</span> <span class="nl">Example:</span> <span class="no">RUN</span> <span class="n">elasticsearch</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="n">analysis</span><span class="o">-</span><span class="n">icu</span>
</pre></td></tr></tbody></table></code></div></div>

<hr />
<h2 id="kibana"><span class="me-2">kibana</span><a href="#kibana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="err">##</span> <span class="nc">Default</span> <span class="nc">Kibana</span> <span class="n">configuration</span> <span class="n">from</span> <span class="nc">Kibana</span> <span class="n">base</span> <span class="n">image</span><span class="o">.</span>
<span class="err">##</span> <span class="nl">https:</span><span class="c1">//github.com/elastic/kibana/blob/master/src/dev/build/tasks/os_packages/docker_generator/templates/kibana_yml.template.js</span>
<span class="err">#</span>
<span class="n">server</span><span class="o">.</span><span class="na">name</span><span class="o">:</span> <span class="n">kibana</span>
<span class="n">server</span><span class="o">.</span><span class="na">host</span><span class="o">:</span> <span class="s">"0"</span>
<span class="n">elasticsearch</span><span class="o">.</span><span class="na">hosts</span><span class="o">:</span> <span class="o">[</span> <span class="s">"http://elasticsearch:9200"</span> <span class="o">]</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">monitoring</span><span class="o">.</span><span class="na">ui</span><span class="o">.</span><span class="na">container</span><span class="o">.</span><span class="na">elasticsearch</span><span class="o">.</span><span class="na">enabled</span><span class="o">:</span> <span class="kc">true</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">security</span><span class="o">.</span><span class="na">encryptionKey</span><span class="o">:</span> <span class="s">"${KIBANA_ENCRYPTION_KEY}"</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">encryptedSavedObjects</span><span class="o">.</span><span class="na">encryptionKey</span><span class="o">:</span> <span class="s">"${KIBANA_ENCRYPTION_KEY}"</span>
<span class="n">xpack</span><span class="o">.</span><span class="na">reporting</span><span class="o">.</span><span class="na">encryptionKey</span><span class="o">:</span> <span class="s">"${KIBANA_ENCRYPTION_KEY}"</span>

<span class="err">##</span> <span class="no">X</span><span class="o">-</span><span class="nc">Pack</span> <span class="n">security</span> <span class="n">credentials</span>
<span class="n">elasticsearch</span><span class="o">.</span><span class="na">serviceAccountToken</span><span class="o">:</span> <span class="s">"${KIBANA_SERVICE_TOKEN}"</span>
<span class="n">elasticsearch</span><span class="o">.</span><span class="na">requestTimeout</span><span class="o">:</span> <span class="mi">30000</span>
<span class="n">elasticsearch</span><span class="o">.</span><span class="na">ssl</span><span class="o">.</span><span class="na">verificationMode</span><span class="o">:</span> <span class="n">none</span>


</pre></td></tr></tbody></table></code></div></div>
<p>password로 인증하는 방법도 있고 encryption키 토큰으로 인증하는 방법도 있는데 전 더 선호되는 기술을 사용해봤습니다.</p>

<h4 id="dockerfile-2"><span class="me-2">Dockerfile</span><a href="#dockerfile-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="no">ARG</span> <span class="no">ELK_VERSION</span>

<span class="err">#</span> <span class="nl">https:</span><span class="c1">//www.docker.elastic.co/</span>
<span class="no">FROM</span> <span class="n">docker</span><span class="o">.</span><span class="na">elastic</span><span class="o">.</span><span class="na">co</span><span class="o">/</span><span class="n">kibana</span><span class="o">/</span><span class="nl">kibana:</span><span class="err">$</span><span class="o">{</span><span class="no">ELK_VERSION</span><span class="o">}</span>


<span class="err">#</span> <span class="nc">Add</span> <span class="n">your</span> <span class="n">kibana</span> <span class="n">plugins</span> <span class="n">setup</span> <span class="n">here</span>
<span class="err">#</span> <span class="nl">Example:</span> <span class="no">RUN</span> <span class="n">kibana</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">|</span><span class="n">url</span><span class="o">&gt;</span>
</pre></td></tr></tbody></table></code></div></div>
<hr />

<h3 id="환경변수-env"><span class="me-2">환경변수 .env</span><a href="#환경변수-env" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="no">ELASTIC_USERNAME</span><span class="o">=</span><span class="n">elastic</span>
<span class="no">ELASTIC_PASSWORD</span><span class="o">=</span><span class="n">ssafya206</span>
<span class="no">SLACK_WEBHOOK_URL</span><span class="o">=</span><span class="nl">https:</span><span class="c1">//hooks.slack.com/services/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</span>

<span class="no">KIBANA_SERVICE_TOKEN</span><span class="o">=</span><span class="nc">AAEAAWVsYXN0aWMva2liYW5hL2tpYmFuYS10b2tlbjp3cW02cFdSTlFsMlh5SDltakdzYjBn</span>

</pre></td></tr></tbody></table></code></div></div>
<p>이 환경변수 파일을 추가하는 방법도 아래 설명하겠습니다.</p>

<h2 id="실행-방법"><span class="me-2">실행 방법</span><a href="#실행-방법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>먼저 로컬에서 실행해봅시다.
Docker Desktop을 실행해봅시다. 물론 터미널에서도 진행 가능하지만 처음 여러 도커 이미지를 띄우고 실행하며, 종료됐을 때 docker logs [컨테이너]로 로그 분석 및 각 컨테이터 터미널을 쉽게 접속하려면 도커 데스크탑을 추천합니다. 물론 리눅스 개발 환경이 더 익숙하신 분들은 터미널로 똑같이 진행하시면 됩니다.<a href="/assets/posts/dcf06d826dd42c49e38b1a57660c16374fc5ff8a639d1ea33b2bcb60f8d968a7.png" class="popup img-link shimmer"><img src="/assets/posts/dcf06d826dd42c49e38b1a57660c16374fc5ff8a639d1ea33b2bcb60f8d968a7.png" alt="" loading="lazy"></a></p>

<h4 id="1-docker-elk-stack-이-있는-루트-디렉토리로-이동"><span class="me-2">1. docker-elk-stack 이 있는 루트 디렉토리로 이동</span><a href="#1-docker-elk-stack-이-있는-루트-디렉토리로-이동" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p><a href="/assets/posts/10cf9255c074bb6e428bc63e801f812f810113f20efe2f33c43576ec0a9676fb.png" class="popup img-link shimmer"><img src="/assets/posts/10cf9255c074bb6e428bc63e801f812f810113f20efe2f33c43576ec0a9676fb.png" alt="" loading="lazy"></a></p>

<h4 id="2-docker로-실행"><span class="me-2">2. docker로 실행</span><a href="#2-docker로-실행" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<ol>
  <li>
    <p>Elasticsearch만 먼저 시작합니다
<code class="language-plaintext highlighter-rouge">docker-compose up -d elasticsearch</code></p>
  </li>
  <li>Elasticsearch가 완전히 시작될 때까지 기다립니다.
서비스 계정 토큰을 생성하고 .env 파일에 설정합니다.
<code class="language-plaintext highlighter-rouge">docker exec -it elasticsearch /bin/bash -c "bin/elasticsearch-service-tokens create elastic/kibana kibana-token"</code></li>
  <li>나머지 서비스를 시작합니다
<code class="language-plaintext highlighter-rouge">docker-compose up -d</code></li>
  <li>docker ps로 실행중인 컨테이너 확인합니다
<code class="language-plaintext highlighter-rouge">docker ps</code></li>
</ol>

<h3 id="실행-후-로그-확인"><span class="me-2">실행 후 로그 확인</span><a href="#실행-후-로그-확인" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>각각 잘 실행되었는지, 뭔가가 exited되면 왜 종료되었는지를 확인하기 위해 logs를 봐야할 때가 있습니다. 이때는</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>docker-compose logs filebeat
docker-compose logs kafka
docker-compose logs logstash
docker-compose logs elasticsearch
docker-compose logs kibana
</pre></td></tr></tbody></table></code></div></div>
<p>다음 5개 순서대로 플로우가 흘러가니 문제가 생긴 컨테이너의 터미널로 가 실행하여 오류를 로그를 통해 해결할 수 있습니다.</p>

<p>카프카의 경우 토픽에 제대로 로그가 들어오는지를 확인해야 하는 경우가 있기 때문에 복잡한 명령어를 미리 적어두었습니다.</p>

<h4 id="카프카-터미널-명령어-서버의-경우-kafka9092-로컬의-경우-localhost9092"><span class="me-2">카프카 터미널 명령어 (서버의 경우 kafka:9092, 로컬의 경우 localhost:9092)</span><a href="#카프카-터미널-명령어-서버의-경우-kafka9092-로컬의-경우-localhost9092" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<ul>
  <li>
    <p>Kafka 컨테이너에 접속하기 : 
<code class="language-plaintext highlighter-rouge">docker exec -it kafka /bin/bash</code></p>
  </li>
  <li>
    <p>Kafka 스크립트 경로로 이동: 컨테이너에 접속한 후, Kafka 스크립트가 위치한 경로로 이동합니다. 일반적으로 Kafka의 스크립트는 /opt/kafka/bin에 위치합니다. : 
<code class="language-plaintext highlighter-rouge">cd /opt/kafka</code></p>
  </li>
  <li>
    <p>토픽 목록 확인: 이제 kafka-topics.sh 스크립트를 실행하여 현재 Kafka 클러스터의 토픽 목록을 확인할 수 있습니다. : 
<code class="language-plaintext highlighter-rouge">./bin/kafka-topics.sh --list --bootstrap-server localhost:9092</code>
<a href="/assets/posts/7f4cc758a08308e7636ff7b0bd7f31b0e289fcdb8782a8ccf650e9d8d89874e3.png" class="popup img-link shimmer"><img src="/assets/posts/7f4cc758a08308e7636ff7b0bd7f31b0e289fcdb8782a8ccf650e9d8d89874e3.png" alt="" loading="lazy"></a>사진의 경우 바로 cd /opt/kafka/bin으로 이동해 진행한 모습</p>
  </li>
  <li>
    <p>토픽 리스트 확인:
<code class="language-plaintext highlighter-rouge">./bin/kafka-topics.sh --list --bootstrap-server kafka:9092</code></p>
  </li>
  <li>특정 토픽의 메시지 확인 (예: “OMG” 토픽):
<code class="language-plaintext highlighter-rouge">./bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic OMG --from-beginning</code>
이 명령어는 “OMG” 토픽의 모든 메시지를 처음부터 보여줍니다.</li>
  <li>
    <p>실시간으로 새로운 메시지만 보고 싶다면:
<code class="language-plaintext highlighter-rouge">./bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic OMG</code></p>
  </li>
  <li>
    <p>메시지와 함께 키, 타임스탬프 등을 보려면:
<code class="language-plaintext highlighter-rouge">./bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic OMG --property print.key=true --property print.timestamp=true --from-beginning</code></p>
  </li>
  <li>
    <p>특정 파티션의 메시지만 보려면 (예: 파티션 0):
<code class="language-plaintext highlighter-rouge">./bin/kafka-console-consumer.sh --bootstrap-server kafka:9092 --topic OMG --partition 0 --from-beginning</code></p>
  </li>
  <li>메시지 생산을 테스트 :
<code class="language-plaintext highlighter-rouge">./bin/kafka-console-producer.sh --bootstrap-server kafka:9092 --topic OMG</code></li>
</ul>

<hr />

<h2 id="elastic-접속"><span class="me-2">elastic 접속</span><a href="#elastic-접속" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>localhost:5601(http://localhost:5601/
) 또는 도메인:5601(http://j11a206.p.ssafy.io:5601/
)로 접속합니다
이때 저희가 설정한 ELASTIC_USERNAME과 ELASTIC_PASSWORD로 로그인 합니다.
<strong>https 면 접속이 안되니까 주의!</strong><a href="/assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png" class="popup img-link shimmer"><img src="/assets/posts/7cbec649485ed6380432c70c6fe86b95a4d0cb940e6a5d21725654c3bd405503.png" alt="" loading="lazy"></a><a href="/assets/posts/2242f1ff97addf10b1ff35d6c62948f3d7076ef8fcf12df07d110d8efdbd34a9.png" class="popup img-link shimmer"><img src="/assets/posts/2242f1ff97addf10b1ff35d6c62948f3d7076ef8fcf12df07d110d8efdbd34a9.png" alt="" loading="lazy"></a></p>

<h3 id="인덱스-생성"><span class="me-2">인덱스 생성</span><a href="#인덱스-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>좌측 탭에서 맨 아래 Stack Management로 들어간다. <a href="/assets/posts/736a8e3ffa9991423e56045a6307e729a42cfeb0e1bd09c9b2bf826d6771d7f1.png" class="popup img-link shimmer"><img src="/assets/posts/736a8e3ffa9991423e56045a6307e729a42cfeb0e1bd09c9b2bf826d6771d7f1.png" alt="" loading="lazy"></a><a href="/assets/posts/bca6ac01296da6d63c24d58b932635905831f97d1c0355b7189b676ddb6e9aa5.png" class="popup img-link shimmer"><img src="/assets/posts/bca6ac01296da6d63c24d58b932635905831f97d1c0355b7189b676ddb6e9aa5.png" alt="" loading="lazy"></a>
이후 다시 좌측 탭을 보면 여러 카테고리가 변경되는데 여기서 Index Management로 들어간다. <a href="/assets/posts/bae162a23dd99f76b2b73e878f74ebad1f5da96805d1b8311626e8e0ffbabee5.png" class="popup img-link shimmer"><img src="/assets/posts/bae162a23dd99f76b2b73e878f74ebad1f5da96805d1b8311626e8e0ffbabee5.png" alt="" loading="lazy"></a></p>

<p>아마 아무것도 없고 새로 생성해야할텐데 이미 로그를 생성할 때 logstash의 output에서
<code class="language-plaintext highlighter-rouge">index =&gt; "omg-game-error-log-%{+YYYY.MM.dd}"</code>,         <br />
<code class="language-plaintext highlighter-rouge">index =&gt; "omg-game-log-%{+YYYY.MM.dd}"</code></p>

<p>와 같이 인덱스를 지정했으므로 해당 인덱스를 적어준다.
둘 다 포함하기 위해 omg-game*과 같이 적어주었다.</p>

<p>만약 인덱스를 모르겠으면 <a href="/assets/posts/bca6ac01296da6d63c24d58b932635905831f97d1c0355b7189b676ddb6e9aa5.png" class="popup img-link shimmer"><img src="/assets/posts/bca6ac01296da6d63c24d58b932635905831f97d1c0355b7189b676ddb6e9aa5.png" alt="" loading="lazy"></a> 에서 Dev Tools로 들어가 간단한 콘솔문으로 인덱스를 모두 출력해볼 수 있다. 
<code class="language-plaintext highlighter-rouge">GET _cat/indices?v</code>
<a href="/assets/posts/6bc95d7b6a1111746197ef2b5c9ceb52cc3e9d5384eca2d191dc1e6f43e32001.png" class="popup img-link shimmer"><img src="/assets/posts/6bc95d7b6a1111746197ef2b5c9ceb52cc3e9d5384eca2d191dc1e6f43e32001.png" alt="" loading="lazy"></a></p>

<h2 id="로그-분석"><span class="me-2">로그 분석</span><a href="#로그-분석" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>이제 로그를 확인해 볼 차례다. 결국 이 단계를 위해 모든 과정을 거친것이다. 
<a href="/assets/posts/ef89c2710fb5c15191aa0477e3a52eb0f0fe92f5741a84b2763ed2a896120117.png" class="popup img-link shimmer"><img src="/assets/posts/ef89c2710fb5c15191aa0477e3a52eb0f0fe92f5741a84b2763ed2a896120117.png" alt="" loading="lazy"></a>
Discover에 들어간다. 
<a href="/assets/posts/aa09762dd736077f0b11bab8d3a92291571d12ce754435f3c8aa4b0522658cf6.png" class="popup img-link shimmer"><img src="/assets/posts/aa09762dd736077f0b11bab8d3a92291571d12ce754435f3c8aa4b0522658cf6.png" alt="" loading="lazy"></a>
이런식으로 분석 페이지 및 로그 내용이 나온다. 우리 서비스를 많이 이용했는지 로그데이터가 130만건이 쌓였다.</p>

<p>어떤 로그가 있는지 보도록 해보자.
일단 우측상단 시간을 통해 원하는 시간대를 설정한다.<a href="/assets/posts/f07353dcbae22f8ed0c35066c21cd5c6dfefa2f1fe5e54fb0d8bbe67ce85fb9e.png" class="popup img-link shimmer"><img src="/assets/posts/f07353dcbae22f8ed0c35066c21cd5c6dfefa2f1fe5e54fb0d8bbe67ce85fb9e.png" alt="" loading="lazy"></a>
이런식으로 설정을 한 뒤 원하는 조건을 걸어보자. message 중 에러가 있는걸 보도록 하자.
<a href="/assets/posts/2821fc1da5c89e954b900e696c15cba4e94cc712abcfb4557aa7a9789fbf6101.png" class="popup img-link shimmer"><img src="/assets/posts/2821fc1da5c89e954b900e696c15cba4e94cc712abcfb4557aa7a9789fbf6101.png" alt="" loading="lazy"></a>
이렇게 message : error과 같이 필터를 걸어주면 원하는 로그 데이터만 볼 수 있다. 분석해보니 
<a href="/assets/posts/2078815cb777020bca257f645833433dde0832b1951122c0078f956da721907d.png" class="popup img-link shimmer"><img src="/assets/posts/2078815cb777020bca257f645833433dde0832b1951122c0078f956da721907d.png" alt="" loading="lazy"></a> 웹소켓 연결을 계속 시도하면서 에러가 발생했음을 알 수 있다. 이렇게 특정 에러를 분석하고 바로 대응할 수 있다.</p>

<p>이에 특정 에러를 감지하여 수신 웹후크 앱을 통해 Slack으로 에러메시지를 실시간 전송하도록 추가했다. 
먼저 슬랙을 통해 <a href="/assets/posts/dbed9f71bae26386a95a42f57b3152e10d12b2985be78b4b8c548b9b31a863b8.png" class="popup img-link shimmer"><img src="/assets/posts/dbed9f71bae26386a95a42f57b3152e10d12b2985be78b4b8c548b9b31a863b8.png" alt="" loading="lazy"></a> 자동화 앱을 선택한다.
<a href="/assets/posts/a7dce6827216149aecb225475d31ec0c1dce94b653bb4da82b84453a04401aaa.png" class="popup img-link shimmer"><img src="/assets/posts/a7dce6827216149aecb225475d31ec0c1dce94b653bb4da82b84453a04401aaa.png" alt="" loading="lazy"></a>
우측 상단 Slack 마켓플레이스를 선택한다. 
<a href="/assets/posts/51c8df9c3f79a54caaad0092570371dce203e69c9a9c64903c772b2642d75925.png" class="popup img-link shimmer"><img src="/assets/posts/51c8df9c3f79a54caaad0092570371dce203e69c9a9c64903c772b2642d75925.png" alt="" loading="lazy"></a>
찾아보기에서 web을 검색해 수신 웹후크를 선택.
<a href="/assets/posts/5d8615f965a147afcbfb7e56070aab1fde08ca59a3e8f4af6ed6409913cbab27.png" class="popup img-link shimmer"><img src="/assets/posts/5d8615f965a147afcbfb7e56070aab1fde08ca59a3e8f4af6ed6409913cbab27.png" alt="" loading="lazy"></a>
이후 사용자화 한 뒤 사용
<a href="/assets/posts/763339dc61b70ee752f0823cc6308d4fae686968209e1d02b94c3c54198a6c6e.png" class="popup img-link shimmer"><img src="/assets/posts/763339dc61b70ee752f0823cc6308d4fae686968209e1d02b94c3c54198a6c6e.png" alt="" loading="lazy"></a><a href="/assets/posts/c60414cbea8f09f964df482f6802872136162e97952183e27e01a96a3034f85a.png" class="popup img-link shimmer"><img src="/assets/posts/c60414cbea8f09f964df482f6802872136162e97952183e27e01a96a3034f85a.png" alt="" loading="lazy"></a></p>

<p>생성된 웹후크 URL은 .env에 추가하면된다.</p>

<p>결과 화면은 다음과 같다.
<a href="/assets/posts/3c8a7f34f717e0ad82a8c014ab95364081f57aaa04390692aad230e23bf3f0b0.png" class="popup img-link shimmer"><img src="/assets/posts/3c8a7f34f717e0ad82a8c014ab95364081f57aaa04390692aad230e23bf3f0b0.png" alt="" loading="lazy"></a></p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/elk/"
            class="post-tag no-text-decoration"
          >ELK</a>
        
          <a
            href="/tags/docker/"
            class="post-tag no-text-decoration"
          >docker</a>
        
          <a
            href="/tags/kafka/"
            class="post-tag no-text-decoration"
          >kafka</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=docker%20compose%20%EB%A1%9C%20Kafka%20+%20ELK%20stack%20%EC%82%AC%EC%9A%A9%20-%20Now's%20Log&url=https%3A%2F%2Fkguswo.github.io%2Fposts%2Fdocker-compose-%25EB%25A1%259C-Kafka-ELK-stack-%25EC%2582%25AC%25EC%259A%25A9%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=docker%20compose%20%EB%A1%9C%20Kafka%20+%20ELK%20stack%20%EC%82%AC%EC%9A%A9%20-%20Now's%20Log&u=https%3A%2F%2Fkguswo.github.io%2Fposts%2Fdocker-compose-%25EB%25A1%259C-Kafka-ELK-stack-%25EC%2582%25AC%25EC%259A%25A9%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fkguswo.github.io%2Fposts%2Fdocker-compose-%25EB%25A1%259C-Kafka-ELK-stack-%25EC%2582%25AC%25EC%259A%25A9%2F&text=docker%20compose%20%EB%A1%9C%20Kafka%20+%20ELK%20stack%20%EC%82%AC%EC%9A%A9%20-%20Now's%20Log" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Effective-Java-%EC%83%9D%EC%84%B1%EC%9E%90%EC%97%90-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EA%B0%80-%EB%A7%8E%EB%8B%A4%EB%A9%B4-%EB%B9%8C%EB%8D%94%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/">[Effective Java] - 생성자에 매개변수가 많다면 빌더를 고려하라</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Spring-AI%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC/">Spring AI에 대하여</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/PGMS2%EC%B0%A8%EC%9B%90-%EB%8F%99%EC%A0%84-%EB%92%A4%EC%A7%91%EA%B8%B0-Java/">PGMS_2차원 동전 뒤집기 (Java)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/PGMS%EC%8A%A4%ED%82%AC%ED%8A%B8%EB%A6%AC-Java/">PGMS_스킬트리 (Java)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/PGMS%EA%B1%B0%EB%A6%AC%EB%91%90%EA%B8%B0-%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0-Java-63sj1vsu/">PGMS_거리두기 확인하기 (Java)</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/Docker-Kubernetes-1/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1723402098"
  data-df="ll"
  
>
  Aug 12, 2024
</time>

              <h4 class="pt-0 my-2">Docker & Kubernetes - (1)</h4>
              <div class="text-muted">
                <p>쿠버네티스란? 컨테이너화의 의의와 쿠버네티스의 개요   쿠버네티스 Kubernetes :  컨테이너화된 애플리케이션을 효율적으로 배포하고 운영하기 위해 설계된 오픈 소스 플랫폼.  왜 컨테이너를 사용할까? CI/CD***** (지속적 통합, 지속적 배포) : 사용자에게 새로운 기능과 서비스를 빠르고 안정적으로 제공할 수 있음 그러나 개발자들이 오픈 소...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Docker-Desktop-Error/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1723293246"
  data-df="ll"
  
>
  Aug 10, 2024
</time>

              <h4 class="pt-0 my-2">Docker Desktop Error</h4>
              <div class="text-muted">
                <p>Docker Desktop - Unexpected WSL error   도커 데스크탑을 설치하고 마주한 오류창이다.  오류 메시지는 Windows Subsystem for Linux (WSL)가 아직 시스템에 설치되지 않았음을 나타낸다. Docker Desktop을 실행하기 위해서는 WSL2가 필요하다.  해결방법    WSL 설치하기: 관리자 권한으...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Kafka-Test/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1719469840"
  data-df="ll"
  
>
  Jun 27, 2024
</time>

              <h4 class="pt-0 my-2">Kafka 연습</h4>
              <div class="text-muted">
                <p>Kafka 연습  mac에서 혼자 kafka를 연습해보았다  참고 링크 : https://ojava.tistory.com/205 		  https://devocean.sk.com/experts/techBoardDetail.do?ID=163709           + 오류 구글링  카프카 브로커 실행중인지 확인 ps -ef | grep kafka   카...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/BOJ2467%EC%9A%A9%EC%95%A1-Java/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>BOJ_2467_용액 (Java)</p>
    </a>
  

  
    <a
      href="/posts/BOJ17387%EC%84%A0%EB%B6%84-%EA%B5%90%EC%B0%A8-2-Java/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>BOJ_17387_선분 교차 2 (Java)</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >All rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Kguswo/Kguswo.github.io',
      'data-repo-id': 'R_kgDOLDedyA',
      'data-category': 'Announcements',
      'data-category-id': 'DIC_kwDOLDedyM4CunAk',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

