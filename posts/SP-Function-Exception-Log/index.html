<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="SP, Function, Exception Log" />
<meta property="og:locale" content="en" />
<meta name="description" content="들어가며" />
<meta property="og:description" content="들어가며" />
<link rel="canonical" href="https://kguswo.dev/posts/SP-Function-Exception-Log/" />
<meta property="og:url" content="https://kguswo.dev/posts/SP-Function-Exception-Log/" />
<meta property="og:site_name" content="Now’s Log" />
<meta property="og:image" content="https://kguswo.dev/../assets/posts/6486b832653a466690622fea232ec7320d6bb8be87bdbef4aca4329b68aeaccb.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2026-02-01T03:41:04+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://kguswo.dev/../assets/posts/6486b832653a466690622fea232ec7320d6bb8be87bdbef4aca4329b68aeaccb.png" />
<meta property="twitter:title" content="SP, Function, Exception Log" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="google-site-verification" content="AQ2pk5Wmoq7YGQpPKFrF8XIbK5PiFpBezZ3XXeQirOk" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2026-02-01T03:41:04+09:00","datePublished":"2026-02-01T03:41:04+09:00","description":"들어가며","headline":"SP, Function, Exception Log","image":"https://kguswo.dev/../assets/posts/6486b832653a466690622fea232ec7320d6bb8be87bdbef4aca4329b68aeaccb.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kguswo.dev/posts/SP-Function-Exception-Log/"},"url":"https://kguswo.dev/posts/SP-Function-Exception-Log/"}</script>
<!-- End Jekyll SEO tag -->


  <title>SP, Function, Exception Log | Now's Log
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Now's Log">
<meta name="application-name" content="Now's Log">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profileImg.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Now's Log</a>
    <p class="site-subtitle fst-italic mb-0">Curiosity into Action</p>

    <!-- 방문자카운터 추가 -->
    <div class="mt-2">
      <a href="https://hit-me-up-336ec.web.app" target="_blank" rel="noopener noreferrer">
        <img
          src="https://hitmeup-backend-593087166771.asia-northeast1.run.app/api/count/increment?url=https%3A%2F%2Fkguswo.github.io%2Fabout%2F&title=hits&title_bg=555555&count_bg=79c83d&edge_flat=false"
          alt="Total Hits" style="max-width: 100px;">
      </a>
    </div>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/Kguswo"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/hyeon-jae-kim-64b417299/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nowalex322','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>SP, Function, Exception Log</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>SP, Function, Exception Log</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1769884864"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Feb  1, 2026
</time>

      </span>

      <!-- lastmod date -->
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/../assets/posts/6486b832653a466690622fea232ec7320d6bb8be87bdbef4aca4329b68aeaccb.png" class="popup img-link preview-img shimmer"><img src="/../assets/posts/6486b832653a466690622fea232ec7320d6bb8be87bdbef4aca4329b68aeaccb.png"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3957 words"
>
  <em>21 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">SP, Function, Exception Log</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">SP, Function, Exception Log</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h3 id="들어가며"><span class="me-2">들어가며</span><a href="#들어가며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>SQL Server를 사용하는 실무 환경에서 <strong>Stored Procedure(SP)</strong>, <strong>Function</strong>, <strong>Exception Log</strong> 는 거의 필수적으로 사용된다. 단순히 SELECT 쿼리만 날리는 것과 이 세 가지를 제대로 활용하는 것은 완전히 다른 차원의 개발이다.</p>

<p>이 글에서는 실무에서 배운 각각의 개념부터 사용하는 방식까지 깊게 정리해보려 한다.</p>

<p><br /></p>

<h2 id="1-stored-procedure-저장-프로시저"><span class="me-2">1. Stored Procedure (저장 프로시저)</span><a href="#1-stored-procedure-저장-프로시저" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="sp란-무엇인가"><span class="me-2">SP란 무엇인가?</span><a href="#sp란-무엇인가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>Stored Procedure(SP)</strong> 는 데이터베이스에 저장된 <strong>미리 컴파일된 SQL 문의 집합</strong> 이다. 쉽게 말해 <strong>자주 사용하는 SQL 작업을 함수처럼 묶어서 저장해둔 것</strong> 이다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>일반 쿼리 실행:
[애플리케이션] → SQL 문자열 전송 → [DB] → 파싱 → 컴파일 → 실행

SP 실행:
[애플리케이션] → SP 이름만 전송 → [DB] → 바로 실행 (이미 컴파일됨)
</pre></td></tr></tbody></table></code></div></div>

<h3 id="sp를-사용하는-이유"><span class="me-2">SP를 사용하는 이유</span><a href="#sp를-사용하는-이유" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>장점</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>성능 향상</strong></td>
      <td>미리 컴파일되어 실행 계획이 캐시됨</td>
    </tr>
    <tr>
      <td><strong>보안 강화</strong></td>
      <td>테이블 직접 접근 차단, SP 권한만 부여 가능</td>
    </tr>
    <tr>
      <td><strong>유지보수 용이</strong></td>
      <td>SQL 로직 변경 시 애플리케이션 배포 불필요</td>
    </tr>
    <tr>
      <td><strong>네트워크 트래픽 감소</strong></td>
      <td>긴 쿼리 대신 SP 이름과 파라미터만 전송</td>
    </tr>
    <tr>
      <td><strong>코드 재사용</strong></td>
      <td>여러 애플리케이션에서 동일 로직 사용 가능</td>
    </tr>
  </tbody>
</table></div>

<h3 id="sp-vs-inline-sql-정말-성능-차이가-있을까"><span class="me-2">SP vs Inline SQL, 정말 성능 차이가 있을까?</span><a href="#sp-vs-inline-sql-정말-성능-차이가-있을까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>“SP가 더 빠르다”는 말을 많이 들어봤을 것이다. 하지만 <strong>현대 SQL Server(2005 이후)에서는 이 말이 100% 맞지는 않다.</strong></p>

<h4 id="과거-vs-현재"><span class="me-2">과거 vs 현재</span><a href="#과거-vs-현재" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p><strong>과거 (SQL Server 2000 이전):</strong></p>
<ul>
  <li>SP만 실행 계획을 캐시했음</li>
  <li>Inline SQL은 매번 컴파일 → SP가 확실히 빠름</li>
</ul>

<p><strong>현재 (SQL Server 2005 이후):</strong></p>
<ul>
  <li><strong>파라미터화된 Inline SQL도 실행 계획을 캐시</strong> 함</li>
  <li>동일한 쿼리 패턴이면 SP와 성능 차이가 거의 없음</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">-- 이 쿼리도 실행 계획이 캐시됨</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">Users</span> <span class="k">WHERE</span> <span class="n">UserName</span> <span class="o">=</span> <span class="o">@</span><span class="n">userName</span> <span class="k">AND</span> <span class="n">Password</span> <span class="o">=</span> <span class="o">@</span><span class="n">password</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="그럼에도-sp가-유리한-경우"><span class="me-2">그럼에도 SP가 유리한 경우</span><a href="#그럼에도-sp가-유리한-경우" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p><strong>1. 실행 계획 캐시 우선순위</strong></p>

<p>SQL Server의 실행 계획 캐시에는 우선순위가 있다:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>우선순위</th>
      <th>유형</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>높음</td>
      <td>Compiled (SP)</td>
      <td>메모리 압박 시에도 유지됨</td>
    </tr>
    <tr>
      <td>중간</td>
      <td>Prepared</td>
      <td>파라미터화된 쿼리</td>
    </tr>
    <tr>
      <td>낮음</td>
      <td>Ad-hoc</td>
      <td>일반 쿼리, 먼저 삭제됨</td>
    </tr>
  </tbody>
</table></div>

<p>메모리 압박 상황에서 <strong>SP의 실행 계획이 더 오래 캐시에 남아있다.</strong></p>

<p><strong>2. 네트워크 트래픽 감소</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>-- Inline SQL: 긴 쿼리 전체를 전송
"SELECT a.Column1, a.Column2, b.Column3 FROM TableA a 
 INNER JOIN TableB b ON a.Id = b.AId WHERE a.Status = @status..."

-- SP 호출: 이름과 파라미터만 전송
"EXEC GetDataByStatus @status = 1"
</pre></td></tr></tbody></table></code></div></div>

<p>대용량 트래픽 환경에서는 이 차이가 누적된다.</p>

<p><strong>3. SET NOCOUNT ON 효과</strong></p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">SET</span> <span class="n">NOCOUNT</span> <span class="k">ON</span>  <span class="c1">-- "n개 행이 영향받음" 메시지 비활성화</span>
</pre></td></tr></tbody></table></code></div></div>

<p>SP에서 이 옵션을 사용하면 불필요한 네트워크 왕복이 줄어든다.</p>

<blockquote class="prompt-info">
  <p>단일 쿼리의 성능 차이는 미미하지만, <strong>대규모 트래픽 환경에서는 SP가 여전히 유리</strong> 하다. 특히 MSSQL + ASP.NET 조합에서 SP를 선호하는 이유이다.</p>
</blockquote>

<h4 id="벤치마크-결과-요약"><span class="me-2">벤치마크 결과 요약</span><a href="#벤치마크-결과-요약" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>여러 벤치마크 테스트 결과를 종합하면:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>비교 항목</th>
      <th>결과</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SP vs 파라미터화된 Inline SQL</td>
      <td><strong>거의 동일</strong> (1-5% 차이)</td>
    </tr>
    <tr>
      <td>SP vs 비파라미터화된 SQL</td>
      <td><strong>SP가 빠름</strong> (매번 컴파일 발생)</td>
    </tr>
    <tr>
      <td>SP vs ORM 생성 쿼리</td>
      <td><strong>SP가 빠름</strong> (ORM 오버헤드 존재)</td>
    </tr>
  </tbody>
</table></div>

<p>결론적으로, <strong>파라미터화된 쿼리를 사용한다면 순수 성능 차이는 크지 않다.</strong> 하지만 SP는 성능 외에도 <strong>보안, 유지보수, 권한 관리</strong> 측면에서 장점이 많다.</p>

<h3 id="sp-기본-문법"><span class="me-2">SP 기본 문법</span><a href="#sp-기본-문법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="생성"><span class="me-2">생성</span><a href="#생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="err">스키마명</span><span class="p">.</span><span class="err">프로시저명</span>
    <span class="o">@</span><span class="err">파라미터</span><span class="mi">1</span>     <span class="err">데이터타입</span>
    <span class="p">,</span><span class="o">@</span><span class="err">파라미터</span><span class="mi">2</span>    <span class="err">데이터타입</span>
    <span class="p">,</span><span class="o">@</span><span class="err">출력파라미터</span>  <span class="err">데이터타입</span>    <span class="k">OUTPUT</span>
<span class="k">AS</span>
<span class="k">BEGIN</span>
    <span class="c1">-- SQL 로직</span>
<span class="k">END</span>
<span class="k">GO</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="실행"><span class="me-2">실행</span><a href="#실행" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">DECLARE</span> <span class="o">@</span><span class="k">result</span> <span class="nb">INT</span>
<span class="k">EXEC</span> <span class="err">스키마명</span><span class="p">.</span><span class="err">프로시저명</span> 
    <span class="o">@</span><span class="err">파라미터</span><span class="mi">1</span>      <span class="o">=</span> <span class="s1">'값1'</span>
    <span class="p">,</span><span class="o">@</span><span class="err">파라미터</span><span class="mi">2</span>     <span class="o">=</span> <span class="s1">'값2'</span>
    <span class="p">,</span><span class="o">@</span><span class="err">출력파라미터</span>  <span class="o">=</span> <span class="o">@</span><span class="k">result</span> <span class="k">OUTPUT</span>

<span class="k">SELECT</span> <span class="o">@</span><span class="k">result</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="삭제"><span class="me-2">삭제</span><a href="#삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="err">스키마명</span><span class="p">.</span><span class="err">프로시저명</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="실무-sp-템플릿"><span class="me-2">실무 SP 템플릿</span><a href="#실무-sp-템플릿" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>실무에서는 단순히 SQL만 작성하는 것이 아니라, <strong>에러 처리</strong>, <strong>트랜잭션 관리</strong>, <strong>타임아웃 설정</strong> 등을 포함한 표준 템플릿을 사용한다.</p>

<h4 id="1-헤더-주석"><span class="me-2">1. 헤더 주석</span><a href="#1-헤더-주석" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="cm">/*!
 * brief   SP 한줄 요약
 * author  작성자, 생성일
 * remarks 보조 설명
 */</span>
</pre></td></tr></tbody></table></code></div></div>

<p>누가, 언제, 왜 만들었는지 기록한다. 유지보수 시 필수 정보이다.</p>

<h4 id="2-drop-후-create-패턴"><span class="me-2">2. DROP 후 CREATE 패턴</span><a href="#2-drop-후-create-패턴" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="n">IF</span> <span class="n">OBJECT_ID</span><span class="p">(</span><span class="s1">'dbo.uspGetBoardList'</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
 <span class="k">BEGIN</span>
    <span class="k">DROP</span> <span class="k">PROCEDURE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">uspGetBoardList</span>
 <span class="k">END</span>
<span class="k">GO</span>
<span class="k">CREATE</span> <span class="k">PROCEDURE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">uspGetBoardList</span>
</pre></td></tr></tbody></table></code></div></div>

<p>SP가 이미 존재하면 삭제 후 새로 생성한다. <strong>ALTER</strong> 대신 이 패턴을 쓰는 이유는:</p>
<ul>
  <li>스크립트를 반복 실행해도 에러가 나지 않음</li>
  <li>형상 관리(Git 등)에서 전체 코드가 보여 비교가 쉬움</li>
</ul>

<blockquote class="prompt-tip">
  <p>SQL Server 2016 SP1 이상에서는 <code class="language-plaintext highlighter-rouge">CREATE OR ALTER PROCEDURE</code> 문법을 사용할 수 있다.</p>
</blockquote>

<h4 id="3-set-옵션들"><span class="me-2">3. SET 옵션들</span><a href="#3-set-옵션들" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">SET</span> <span class="n">NOCOUNT</span> <span class="k">ON</span>
<span class="k">SET</span> <span class="n">TRANSACTION</span> <span class="k">ISOLATION</span> <span class="k">LEVEL</span> <span class="k">READ</span> <span class="k">UNCOMMITTED</span>
<span class="k">SET</span> <span class="n">LOCK_TIMEOUT</span> <span class="mi">3000</span>
<span class="k">SET</span> <span class="n">XACT_ABORT</span> <span class="k">ON</span>
</pre></td></tr></tbody></table></code></div></div>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SET NOCOUNT ON</code></td>
      <td>“n개 행이 영향받음” 메시지 비활성화. 성능 향상</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED</code></td>
      <td>더티 리드 허용. 조회 성능 향상, 락 대기 없음</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SET LOCK_TIMEOUT 3000</code></td>
      <td>락 대기 최대 3초. 무한 대기 방지</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">SET XACT_ABORT ON</code></td>
      <td>에러 발생 시 트랜잭션 자동 롤백</td>
    </tr>
  </tbody>
</table></div>

<blockquote class="prompt-warning">
  <p><code class="language-plaintext highlighter-rouge">READ UNCOMMITTED</code> 는 조회용 SP에서 주로 사용한다. 데이터 정합성이 중요한 경우에는 사용하지 않는다.</p>
</blockquote>

<h4 id="4-try-catch-구문"><span class="me-2">4. TRY-CATCH 구문</span><a href="#4-try-catch-구문" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">BEGIN</span> <span class="n">TRY</span>
    <span class="c1">-- 비즈니스 로직</span>
<span class="k">END</span> <span class="n">TRY</span>
<span class="k">BEGIN</span> <span class="n">CATCH</span>
    <span class="k">SET</span> <span class="o">@</span><span class="n">resultCode</span> <span class="o">=</span> <span class="o">-</span><span class="mi">99</span>
    <span class="k">SET</span> <span class="o">@</span><span class="n">vResultMsg</span> <span class="o">=</span> <span class="n">ERROR_MESSAGE</span><span class="p">()</span>
    <span class="k">GOTO</span> <span class="n">LABEL_END</span>
<span class="k">END</span> <span class="n">CATCH</span>
</pre></td></tr></tbody></table></code></div></div>

<p>에러 발생 시 CATCH 블록에서 처리한다. <code class="language-plaintext highlighter-rouge">ERROR_MESSAGE()</code> 함수로 에러 내용을 가져올 수 있다.</p>

<h4 id="5-label_end-패턴"><span class="me-2">5. LABEL_END 패턴</span><a href="#5-label_end-패턴" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">LABEL_END</span><span class="p">:</span>
    <span class="c1">-- 트랜잭션 처리 또는 정리 작업</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">GOTO LABEL_END</code> 로 언제든 종료 지점으로 이동할 수 있다. 트랜잭션 COMMIT/ROLLBACK 처리에 유용하다.</p>

<h3 id="동적-쿼리-sp"><span class="me-2">동적 쿼리 SP</span><a href="#동적-쿼리-sp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>검색 조건이 가변적인 경우 <strong>동적 쿼리</strong> 를 사용한다.</p>

<blockquote class="prompt-danger">
  <p>동적 쿼리에서 문자열 직접 연결(<code class="language-plaintext highlighter-rouge">+ @변수 +</code>)은 SQL Injection 위험이 있다. 반드시 파라미터화된 쿼리를 사용하자.</p>
</blockquote>

<p><br /></p>

<h2 id="2-function-사용자-정의-함수"><span class="me-2">2. Function (사용자 정의 함수)</span><a href="#2-function-사용자-정의-함수" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="function이란"><span class="me-2">Function이란?</span><a href="#function이란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>Function</strong> 은 <strong>입력값을 받아 결과값을 반환하는 재사용 가능한 코드 블록</strong> 이다. SP와 비슷하지만 중요한 차이가 있다.</p>

<h3 id="sp-vs-function-차이"><span class="me-2">SP vs Function 차이</span><a href="#sp-vs-function-차이" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>구분</th>
      <th>Stored Procedure</th>
      <th>Function</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>반환값</td>
      <td>OUTPUT 파라미터, 결과 집합</td>
      <td>단일 값 또는 테이블</td>
    </tr>
    <tr>
      <td>SELECT 내 사용</td>
      <td>불가능</td>
      <td><strong>가능</strong></td>
    </tr>
    <tr>
      <td>데이터 변경</td>
      <td>INSERT/UPDATE/DELETE 가능</td>
      <td><strong>불가능</strong> (조회만)</td>
    </tr>
    <tr>
      <td>트랜잭션</td>
      <td>사용 가능</td>
      <td>사용 불가</td>
    </tr>
    <tr>
      <td>호출 방식</td>
      <td>EXEC</td>
      <td>SELECT 절, WHERE 절 등</td>
    </tr>
  </tbody>
</table></div>

<h3 id="function의-종류"><span class="me-2">Function의 종류</span><a href="#function의-종류" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="1-스칼라-함수-scalar-function"><span class="me-2">1. 스칼라 함수 (Scalar Function)</span><a href="#1-스칼라-함수-scalar-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p><strong>단일 값</strong> 을 반환한다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">-- 반환 타입: INT, VARCHAR, DATETIME 등 단일 값</span>
<span class="k">SELECT</span> <span class="n">dbo</span><span class="p">.</span><span class="n">fnGetAge</span><span class="p">(</span><span class="s1">'1990-01-15'</span><span class="p">)</span>  <span class="c1">-- 결과: 34</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="2-테이블-반환-함수-table-valued-function"><span class="me-2">2. 테이블 반환 함수 (Table-Valued Function)</span><a href="#2-테이블-반환-함수-table-valued-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p><strong>테이블(결과 집합)</strong> 을 반환한다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">-- 반환 타입: TABLE</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">fnGetMemberList</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">-- 결과: 여러 행</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="function-사용-시-주의사항"><span class="me-2">Function 사용 시 주의사항</span><a href="#function-사용-시-주의사항" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<blockquote class="prompt-warning">
  <p><strong>Function은 SELECT 절, WHERE 절에서 행마다 호출되므로 대용량 데이터에서는 성능 저하가 발생할 수 있다.</strong> 복잡한 로직은 SP나 JOIN으로 대체하는 것이 좋다.</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">-- 느림: 100만 행이면 Function이 100만 번 호출됨</span>
<span class="k">SELECT</span> <span class="n">_memberName</span><span class="p">,</span> <span class="n">dbo</span><span class="p">.</span><span class="n">ufnGetAge</span><span class="p">(</span><span class="n">_birthDate</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblMember</span>

<span class="c1">-- 빠름: 직접 계산</span>
<span class="k">SELECT</span> <span class="n">_memberName</span>
      <span class="p">,</span><span class="n">DATEDIFF</span><span class="p">(</span><span class="nb">YEAR</span><span class="p">,</span> <span class="n">_birthDate</span><span class="p">,</span> <span class="n">GETDATE</span><span class="p">())</span> <span class="k">AS</span> <span class="n">Age</span>
<span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblMember</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="3-db-exception-log-예외-로깅"><span class="me-2">3. DB Exception Log (예외 로깅)</span><a href="#3-db-exception-log-예외-로깅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="왜-db-레벨-로깅이-필요한가"><span class="me-2">왜 DB 레벨 로깅이 필요한가?</span><a href="#왜-db-레벨-로깅이-필요한가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>애플리케이션에서 로깅을 하더라도, <strong>DB 내부에서 발생한 에러는 애플리케이션까지 전달되지 않을 수 있다.</strong> 특히:</p>

<ul>
  <li>트리거에서 발생한 에러</li>
  <li>백그라운드 잡(Job)에서 발생한 에러</li>
  <li>복잡한 트랜잭션 중간의 에러</li>
</ul>

<p>이런 경우를 대비해 <strong>DB 자체적으로 에러를 기록</strong> 해두면 문제 추적이 훨씬 수월하다.</p>

<h3 id="exception-log-테이블"><span class="me-2">Exception Log 테이블</span><a href="#exception-log-테이블" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="cm">/******************************************************************************/</span>
<span class="cm">/*!
 * brief   DB Exception Log 테이블
 * author  홍길동, 2024-01-15
 * remarks SP, Function, Trigger 등에서 발생한 예외를 기록
 */</span>
<span class="n">IF</span> <span class="n">OBJECT_ID</span><span class="p">(</span><span class="s1">'dbo.TblExceptionLog'</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="k">BEGIN</span>
    <span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblExceptionLog</span>
<span class="k">END</span>
<span class="k">GO</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblExceptionLog</span>
<span class="p">(</span>
    <span class="n">_logNo</span> <span class="nb">BIGINT</span> <span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>            <span class="c1">-- 고유 번호</span>
    <span class="p">,</span><span class="n">_objectName</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>             <span class="c1">-- Exception 발생한 Object 이름</span>
    <span class="p">,</span><span class="n">_errorNumber</span> <span class="nb">INT</span> <span class="k">NULL</span>                          <span class="c1">-- 에러 번호</span>
    <span class="p">,</span><span class="n">_errorSeverity</span> <span class="nb">INT</span> <span class="k">NULL</span>                        <span class="c1">-- 에러 심각도</span>
    <span class="p">,</span><span class="n">_errorState</span> <span class="nb">INT</span> <span class="k">NULL</span>                           <span class="c1">-- 에러 상태</span>
    <span class="p">,</span><span class="n">_errorLine</span> <span class="nb">INT</span> <span class="k">NULL</span>                            <span class="c1">-- 에러 발생 라인</span>
    <span class="p">,</span><span class="n">_errorMessage</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span>          <span class="c1">-- 에러 메시지</span>
    <span class="p">,</span><span class="n">_parameters</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span> <span class="k">NULL</span>                 <span class="c1">-- 호출 시 파라미터 값</span>
    <span class="p">,</span><span class="n">_registerDate</span> <span class="nb">DATETIME</span> <span class="k">NOT</span> <span class="k">NULL</span>                <span class="c1">-- 등록 시간</span>
        <span class="k">CONSTRAINT</span> <span class="n">DF_TblExceptionLog_registerDate</span> <span class="k">DEFAULT</span><span class="p">(</span><span class="n">GETDATE</span><span class="p">())</span>
<span class="p">)</span>
<span class="k">GO</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblExceptionLog</span> <span class="k">ADD</span>
    <span class="k">CONSTRAINT</span> <span class="n">PK_TblExceptionLog</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="n">CLUSTERED</span>
    <span class="p">(</span>
        <span class="n">_logNo</span> <span class="k">ASC</span>
    <span class="p">)</span>
<span class="k">GO</span>

<span class="c1">-- 조회용 인덱스</span>
<span class="k">CREATE</span> <span class="n">NONCLUSTERED</span> <span class="k">INDEX</span> <span class="n">IX_TblExceptionLog_objectName</span> 
<span class="k">ON</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblExceptionLog</span> <span class="p">(</span><span class="n">_objectName</span><span class="p">,</span> <span class="n">_registerDate</span> <span class="k">DESC</span><span class="p">)</span>
<span class="k">GO</span>

<span class="k">CREATE</span> <span class="n">NONCLUSTERED</span> <span class="k">INDEX</span> <span class="n">IX_TblExceptionLog_registerDate</span> 
<span class="k">ON</span> <span class="n">dbo</span><span class="p">.</span><span class="n">TblExceptionLog</span> <span class="p">(</span><span class="n">_registerDate</span> <span class="k">DESC</span><span class="p">)</span>
<span class="k">GO</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="error-함수들-정리"><span class="me-2">ERROR 함수들 정리</span><a href="#error-함수들-정리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>CATCH 블록 내에서 사용할 수 있는 에러 정보 함수들이다.</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>함수</th>
      <th>설명</th>
      <th>예시 값</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_NUMBER()</code></td>
      <td>에러 번호</td>
      <td>547, 2627 등</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_MESSAGE()</code></td>
      <td>에러 메시지</td>
      <td>‘FK 제약 조건 위반…’</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_SEVERITY()</code></td>
      <td>심각도 (0-25)</td>
      <td>16</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_STATE()</code></td>
      <td>상태 코드</td>
      <td>1</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_LINE()</code></td>
      <td>에러 발생 라인</td>
      <td>42</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">ERROR_PROCEDURE()</code></td>
      <td>에러 발생 SP 이름</td>
      <td>‘uspInsertBoard’</td>
    </tr>
  </tbody>
</table></div>

<blockquote class="prompt-info">
  <p>이 함수들은 <strong>CATCH 블록 내에서만</strong> 유효한 값을 반환한다. CATCH 블록 밖에서는 NULL을 반환한다.</p>
</blockquote>

<p><br /></p>

<h2 id="4-dapper와-sp-조합-aspnet-실무"><span class="me-2">4. Dapper와 SP 조합 (ASP.NET 실무)</span><a href="#4-dapper와-sp-조합-aspnet-실무" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="dapper란"><span class="me-2">Dapper란?</span><a href="#dapper란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>Dapper</strong> 는 StackOverflow 팀이 개발한 <strong>Micro ORM</strong> 이다. Entity Framework 같은 Full ORM과 달리 가볍고 빠르며, <strong>SQL에 대한 완전한 제어권</strong> 을 유지하면서도 객체 매핑을 자동화해준다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>ADO.NET (순수)      → 빠르지만 코드가 많음
Entity Framework   → 편하지만 오버헤드가 있음
Dapper             → 빠르면서도 코드가 적음 (최적의 균형)
</pre></td></tr></tbody></table></code></div></div>

<h3 id="왜-mssql--aspnet에서-dapper--sp-조합인가"><span class="me-2">왜 MSSQL + ASP.NET에서 Dapper + SP 조합인가?</span><a href="#왜-mssql--aspnet에서-dapper--sp-조합인가" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><strong>1. 성능 벤치마크</strong></p>

<p>다양한 벤치마크 결과를 종합하면:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>ORM</th>
      <th>상대 성능</th>
      <th>특징</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ADO.NET</td>
      <td>100% (기준)</td>
      <td>가장 빠름, 코드 많음</td>
    </tr>
    <tr>
      <td><strong>Dapper</strong></td>
      <td>95-100%</td>
      <td>ADO.NET과 거의 동일</td>
    </tr>
    <tr>
      <td>EF Core (AsNoTracking)</td>
      <td>70-80%</td>
      <td>추적 비활성화 시</td>
    </tr>
    <tr>
      <td>EF Core (기본)</td>
      <td>50-70%</td>
      <td>Change Tracking 오버헤드</td>
    </tr>
  </tbody>
</table></div>

<p>Dapper는 ADO.NET의 성능을 거의 유지하면서 코드량을 대폭 줄여준다.</p>

<p><strong>2. SP와의 완벽한 호환</strong></p>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1">// Entity Framework에서 SP 호출 - 제한적</span>
<span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="n">Database</span><span class="p">.</span><span class="n">SqlQueryRaw</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="s">"EXEC MySP @param"</span><span class="p">,</span> <span class="n">param</span><span class="p">);</span>

<span class="c1">// Dapper에서 SP 호출 - 자연스럽고 강력</span>
<span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">Query</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="s">"MySP"</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">commandType</span><span class="p">:</span> <span class="n">CommandType</span><span class="p">.</span><span class="n">StoredProcedure</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Dapper는 OUTPUT 파라미터, 다중 결과 집합 등 <strong>SP의 모든 기능을 완벽하게 지원</strong> 한다.</p>

<p><strong>3. Microsoft 생태계 최적화</strong></p>

<p>MSSQL과 .NET은 같은 Microsoft 제품이다. SP를 사용하면:</p>
<ul>
  <li>SQL Server의 <strong>실행 계획 최적화</strong> 를 최대한 활용</li>
  <li><strong>네이티브 컴파일 SP</strong> (In-Memory OLTP) 사용 가능</li>
  <li>.NET의 <strong>SqlConnection</strong> 과 직접 연동</li>
</ul>

<h3 id="dapper-설치"><span class="me-2">Dapper 설치</span><a href="#dapper-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># NuGet Package Manager Console</span>
Install-Package Dapper

<span class="c"># .NET CLI</span>
dotnet add package Dapper
</pre></td></tr></tbody></table></code></div></div>

<h3 id="dapper로-sp-호출하기"><span class="me-2">Dapper로 SP 호출하기</span><a href="#dapper로-sp-호출하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="기본-조회"><span class="me-2">기본 조회</span><a href="#기본-조회" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System.Data</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Data.SqlClient</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Dapper</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BoardRepository</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">_connectionString</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="nf">BoardRepository</span><span class="p">(</span><span class="kt">string</span> <span class="n">connectionString</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_connectionString</span> <span class="p">=</span> <span class="n">connectionString</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// 게시글 목록 조회</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Board</span><span class="p">&gt;&gt;</span> <span class="nf">GetBoardListAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">categoryNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="nn">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlConnection</span><span class="p">(</span><span class="n">_connectionString</span><span class="p">);</span>
        
        <span class="kt">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DynamicParameters</span><span class="p">();</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@categoryNo"</span><span class="p">,</span> <span class="n">categoryNo</span><span class="p">);</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@pageNo"</span><span class="p">,</span> <span class="n">pageNo</span><span class="p">);</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@pageSize"</span><span class="p">,</span> <span class="n">pageSize</span><span class="p">);</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@totalCount"</span><span class="p">,</span> <span class="n">dbType</span><span class="p">:</span> <span class="n">DbType</span><span class="p">.</span><span class="n">Int32</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="n">ParameterDirection</span><span class="p">.</span><span class="n">Output</span><span class="p">);</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@resultCode"</span><span class="p">,</span> <span class="n">dbType</span><span class="p">:</span> <span class="n">DbType</span><span class="p">.</span><span class="n">Int32</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="n">ParameterDirection</span><span class="p">.</span><span class="n">Output</span><span class="p">);</span>
        
        <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="n">QueryAsync</span><span class="p">&lt;</span><span class="n">Board</span><span class="p">&gt;(</span>
            <span class="s">"dbo.uspGetBoardList"</span><span class="p">,</span>
            <span class="n">parameters</span><span class="p">,</span>
            <span class="n">commandType</span><span class="p">:</span> <span class="n">CommandType</span><span class="p">.</span><span class="n">StoredProcedure</span>
        <span class="p">);</span>
        
        <span class="c1">// OUTPUT 파라미터 값 가져오기</span>
        <span class="kt">int</span> <span class="n">totalCount</span> <span class="p">=</span> <span class="n">parameters</span><span class="p">.</span><span class="n">Get</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(</span><span class="s">"@totalCount"</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">resultCode</span> <span class="p">=</span> <span class="n">parameters</span><span class="p">.</span><span class="n">Get</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(</span><span class="s">"@resultCode"</span><span class="p">);</span>
        
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="insertupdatedelete"><span class="me-2">INSERT/UPDATE/DELETE</span><a href="#insertupdatedelete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 게시글 등록</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">InsertBoardAsync</span><span class="p">(</span><span class="n">Board</span> <span class="n">board</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">using</span> <span class="nn">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlConnection</span><span class="p">(</span><span class="n">_connectionString</span><span class="p">);</span>
    
    <span class="kt">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DynamicParameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@categoryNo"</span><span class="p">,</span> <span class="n">board</span><span class="p">.</span><span class="n">CategoryNo</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@title"</span><span class="p">,</span> <span class="n">board</span><span class="p">.</span><span class="n">Title</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@content"</span><span class="p">,</span> <span class="n">board</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@writerNo"</span><span class="p">,</span> <span class="n">board</span><span class="p">.</span><span class="n">WriterNo</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@resultCode"</span><span class="p">,</span> <span class="n">dbType</span><span class="p">:</span> <span class="n">DbType</span><span class="p">.</span><span class="n">Int32</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="n">ParameterDirection</span><span class="p">.</span><span class="n">Output</span><span class="p">);</span>
    
    <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">(</span>
        <span class="s">"dbo.uspInsertBoard"</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">,</span>
        <span class="n">commandType</span><span class="p">:</span> <span class="n">CommandType</span><span class="p">.</span><span class="n">StoredProcedure</span>
    <span class="p">);</span>
    
    <span class="k">return</span> <span class="n">parameters</span><span class="p">.</span><span class="n">Get</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(</span><span class="s">"@resultCode"</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="트랜잭션-처리"><span class="me-2">트랜잭션 처리</span><a href="#트랜잭션-처리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt;</span>
<span class="c1">/// 여러 작업을 트랜잭션으로 묶기</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;</span> <span class="nf">ProcessOrderAsync</span><span class="p">(</span><span class="n">Order</span> <span class="n">order</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">OrderItem</span><span class="p">&gt;</span> <span class="n">items</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">using</span> <span class="nn">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SqlConnection</span><span class="p">(</span><span class="n">_connectionString</span><span class="p">);</span>
    <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="nf">OpenAsync</span><span class="p">();</span>
    
    <span class="k">using</span> <span class="nn">var</span> <span class="n">transaction</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="nf">BeginTransaction</span><span class="p">();</span>
    
    <span class="k">try</span>
    <span class="p">{</span>
        <span class="c1">// 1. 주문 등록</span>
        <span class="kt">var</span> <span class="n">orderParams</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DynamicParameters</span><span class="p">();</span>
        <span class="n">orderParams</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@customerId"</span><span class="p">,</span> <span class="n">order</span><span class="p">.</span><span class="n">CustomerId</span><span class="p">);</span>
        <span class="n">orderParams</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@orderDate"</span><span class="p">,</span> <span class="n">order</span><span class="p">.</span><span class="n">OrderDate</span><span class="p">);</span>
        <span class="n">orderParams</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"@orderId"</span><span class="p">,</span> <span class="n">dbType</span><span class="p">:</span> <span class="n">DbType</span><span class="p">.</span><span class="n">Int32</span><span class="p">,</span> <span class="n">direction</span><span class="p">:</span> <span class="n">ParameterDirection</span><span class="p">.</span><span class="n">Output</span><span class="p">);</span>
        
        <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">(</span>
            <span class="s">"dbo.uspInsertOrder"</span><span class="p">,</span>
            <span class="n">orderParams</span><span class="p">,</span>
            <span class="n">transaction</span><span class="p">:</span> <span class="n">transaction</span><span class="p">,</span>
            <span class="n">commandType</span><span class="p">:</span> <span class="n">CommandType</span><span class="p">.</span><span class="n">StoredProcedure</span>
        <span class="p">);</span>
        
        <span class="kt">int</span> <span class="n">orderId</span> <span class="p">=</span> <span class="n">orderParams</span><span class="p">.</span><span class="n">Get</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(</span><span class="s">"@orderId"</span><span class="p">);</span>
        
        <span class="c1">// 2. 주문 상세 등록</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">items</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">itemParams</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">orderId</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">ProductId</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">Quantity</span><span class="p">,</span> <span class="n">item</span><span class="p">.</span><span class="n">Price</span> <span class="p">};</span>
            <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">(</span>
                <span class="s">"dbo.uspInsertOrderItem"</span><span class="p">,</span>
                <span class="n">itemParams</span><span class="p">,</span>
                <span class="n">transaction</span><span class="p">:</span> <span class="n">transaction</span><span class="p">,</span>
                <span class="n">commandType</span><span class="p">:</span> <span class="n">CommandType</span><span class="p">.</span><span class="n">StoredProcedure</span>
            <span class="p">);</span>
        <span class="p">}</span>
        
        <span class="n">transaction</span><span class="p">.</span><span class="nf">Commit</span><span class="p">();</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span>
    <span class="p">{</span>
        <span class="n">transaction</span><span class="p">.</span><span class="nf">Rollback</span><span class="p">();</span>
        <span class="k">throw</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="dapper-vs-entity-framework-선택-기준"><span class="me-2">Dapper vs Entity Framework 선택 기준</span><a href="#dapper-vs-entity-framework-선택-기준" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>상황</th>
      <th>추천</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SP를 주로 사용하는 프로젝트</td>
      <td><strong>Dapper</strong></td>
    </tr>
    <tr>
      <td>복잡한 조회 쿼리가 많은 경우</td>
      <td><strong>Dapper</strong></td>
    </tr>
    <tr>
      <td>성능이 최우선인 경우</td>
      <td><strong>Dapper</strong></td>
    </tr>
    <tr>
      <td>CRUD가 대부분이고 빠른 개발이 필요한 경우</td>
      <td>Entity Framework</td>
    </tr>
    <tr>
      <td>마이그레이션, Change Tracking이 필요한 경우</td>
      <td>Entity Framework</td>
    </tr>
    <tr>
      <td>둘 다 사용</td>
      <td><strong>조회는 Dapper, CUD는 EF</strong> (하이브리드)</td>
    </tr>
  </tbody>
</table></div>

<blockquote class="prompt-tip">
  <p>회사에서 SP를 주로 사용한다면 <strong>Dapper가 최적의 선택</strong> 이다. Entity Framework의 강점인 LINQ, Change Tracking을 제대로 활용하지 못하기 때문이다.</p>
</blockquote>

<h3 id="aspnet-core에서-dapper-설정"><span class="me-2">ASP.NET Core에서 Dapper 설정</span><a href="#aspnet-core에서-dapper-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="di-등록"><span class="me-2">DI 등록</span><a href="#di-등록" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1">// Program.cs</span>
<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">IDbConnection</span><span class="p">&gt;(</span><span class="n">sp</span> <span class="p">=&gt;</span> 
    <span class="k">new</span> <span class="nf">SqlConnection</span><span class="p">(</span><span class="n">builder</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"DefaultConnection"</span><span class="p">)));</span>

<span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddScoped</span><span class="p">&lt;</span><span class="n">IBoardRepository</span><span class="p">,</span> <span class="n">BoardRepository</span><span class="p">&gt;();</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="repository-패턴-적용"><span class="me-2">Repository 패턴 적용</span><a href="#repository-패턴-적용" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-csharp highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">interface</span> <span class="nc">IBoardRepository</span>
<span class="p">{</span>
    <span class="n">Task</span><span class="p">&lt;</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Board</span><span class="p">&gt;&gt;</span> <span class="nf">GetListAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">categoryNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageNo</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="p">);</span>
    <span class="n">Task</span><span class="p">&lt;</span><span class="n">Board</span><span class="p">?&gt;</span> <span class="nf">GetByIdAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">boardNo</span><span class="p">);</span>
    <span class="n">Task</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">InsertAsync</span><span class="p">(</span><span class="n">Board</span> <span class="n">board</span><span class="p">);</span>
    <span class="n">Task</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">UpdateAsync</span><span class="p">(</span><span class="n">Board</span> <span class="n">board</span><span class="p">);</span>
    <span class="n">Task</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">DeleteAsync</span><span class="p">(</span><span class="kt">int</span> <span class="n">boardNo</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BoardRepository</span> <span class="p">:</span> <span class="n">IBoardRepository</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">IDbConnection</span> <span class="n">_connection</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="nf">BoardRepository</span><span class="p">(</span><span class="n">IDbConnection</span> <span class="n">connection</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_connection</span> <span class="p">=</span> <span class="n">connection</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="c1">// 구현...</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="마치며"><span class="me-2">마치며</span><a href="#마치며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>SQL Server에서 <strong>SP, Function, Exception Log, 그리고 Dapper</strong> 는 실무 개발의 핵심 요소이다.</p>

<p><strong>SP (Stored Procedure)</strong></p>
<ul>
  <li>비즈니스 로직을 DB에 캡슐화</li>
  <li>성능, 보안, 유지보수 모든 면에서 이점</li>
  <li>표준 템플릿(SET 옵션, TRY-CATCH, LABEL_END)을 일관되게 사용</li>
  <li>파라미터화된 Inline SQL과 순수 성능은 비슷하지만, 대규모 환경에서는 SP가 유리</li>
</ul>

<p><strong>Function</strong></p>
<ul>
  <li>재사용 가능한 계산/변환 로직</li>
  <li>SELECT, WHERE 절에서 바로 사용 가능</li>
  <li>대용량 데이터에서는 성능 주의</li>
</ul>

<p><strong>Exception Log</strong></p>
<ul>
  <li>DB 레벨의 에러 추적 시스템</li>
  <li>문제 발생 시 빠른 원인 파악 가능</li>
  <li>파라미터까지 기록하면 디버깅이 훨씬 수월</li>
</ul>

<p><strong>Dapper + SP 조합</strong></p>
<ul>
  <li>MSSQL + ASP.NET 환경에서 최적의 선택</li>
  <li>ADO.NET 수준의 성능 + 간결한 코드</li>
  <li>SP의 모든 기능(OUTPUT 파라미터, 다중 결과 등) 완벽 지원</li>
</ul>

<p>이 네 가지를 제대로 활용하면 안정적이고 유지보수하기 쉬운 데이터베이스 시스템을 구축할 수 있다.</p>

<hr />

<h3 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li><a href="https://www.learndapper.com">Dapper 공식 문서</a></li>
  <li><a href="https://github.com/StackExchange/Dapper#performance">Dapper GitHub Repository - Performance</a></li>
  <li><a href="https://salihcantekin.medium.com/the-big-fight-dapper-vs-entity-framework-detailed-benchmark-2345af933382">The Big Fight — Dapper vs Entity Framework Detailed Benchmark</a></li>
  <li><a href="https://trailheadtechnology.com/ef-core-9-vs-dapper-performance-face-off/">EF Core 9 vs Dapper: Performance Face-Off</a></li>
  <li><a href="https://exceptionnotfound.net/dapper-vs-entity-framework-vs-ado-net-performance-benchmarking/">Dapper vs Entity Framework vs ADO.NET Performance Benchmarking</a></li>
  <li><a href="https://dotnetbenchmarks.com/benchmark/1080">Entity Framework 8 vs Dapper Benchmark</a></li>
  <li><a href="https://www.codeproject.com/articles/414272/stored-procedures-do-not-increase-performance">Stored Procedures DO NOT increase performance (CodeProject)</a></li>
</ul>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/dotnet/">dotnet</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/dotnet/"
            class="post-tag no-text-decoration"
          >dotnet</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=SP,%20Function,%20Exception%20Log%20-%20Now's%20Log&url=https%3A%2F%2Fkguswo.dev%2Fposts%2FSP-Function-Exception-Log%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=SP,%20Function,%20Exception%20Log%20-%20Now's%20Log&u=https%3A%2F%2Fkguswo.dev%2Fposts%2FSP-Function-Exception-Log%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fkguswo.dev%2Fposts%2FSP-Function-Exception-Log%2F&text=SP,%20Function,%20Exception%20Log%20-%20Now's%20Log" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/ISNULL-vs-COALESCE/">ISNULL vs COALESCE</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%ED%8E%98%EC%9D%B4%EC%A7%80%EB%84%A4%EC%9D%B4%EC%85%98/">페이지네이션</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-vs-%EB%85%BC%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%9D%B8%EB%8D%B1%EC%8A%A4/">클러스터 vs 논클러스터 인덱스</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/SP-Function-Exception-Log/">SP, Function, Exception Log</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/What-is-Internet-Information-Services/">What is Internet Information Services?</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database/">Database</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">mysql</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/What-is-Internet-Information-Services/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1769878347"
  data-df="ll"
  
>
  Feb  1, 2026
</time>

              <h4 class="pt-0 my-2">What is Internet Information Services?</h4>
              <div class="text-muted">
                <p>들어가며  .NET 개발을 시작하면 반드시 마주치는 것이 바로 IIS(Internet Information Services) 이다. 처음에는 visual studio에서 “그냥 F5 누르면 실행되는데 이게 왜 필요하지?”라는 생각이 들 수 있다. 하지만 실제 서비스를 배포하려면 IIS에 대한 이해가 필수다.  이 글에서는 IIS가 무엇인지, 왜 필요한...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/.NET-Core-MVC-Dapper/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1767725196"
  data-df="ll"
  
>
  Jan  7, 2026
</time>

              <h4 class="pt-0 my-2">.NET Core MVC + Dapper</h4>
              <div class="text-muted">
                <p>들어가며  Dapper는 Stack Overflow 팀이 만든 Micro ORM 이다. Entity Framework처럼 무거운 ORM 대신, SQL을 직접 작성하면서도 객체 매핑은 자동으로 해주는 가벼운 도구다.  Java 개발자 관점에서 보면, Spring JDBC Template 또는 MyBatis 와 비슷한 위치에 있다. JPA처럼 SQL을 추...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/What-is-Internet-Information-Services/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>What is Internet Information Services?</p>
    </a>
  

  
    <a
      href="/posts/%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-vs-%EB%85%BC%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%9D%B8%EB%8D%B1%EC%8A%A4/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>클러스터 vs 논클러스터 인덱스</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2026</time>

    
      <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >All rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database/">Database</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">mysql</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Kguswo/Kguswo.github.io',
      'data-repo-id': 'R_kgDOLDedyA',
      'data-category': 'Announcements',
      'data-category-id': 'DIC_kwDOLDedyM4CunAk',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

