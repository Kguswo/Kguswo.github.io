<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="레디스 기본 개념" />
<meta property="og:locale" content="en" />
<meta name="description" content="3장 : 레디스 기본 개념" />
<meta property="og:description" content="3장 : 레디스 기본 개념" />
<link rel="canonical" href="https://kguswo.dev/posts/%EB%A0%88%EB%94%94%EC%8A%A4-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90/" />
<meta property="og:url" content="https://kguswo.dev/posts/%EB%A0%88%EB%94%94%EC%8A%A4-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90/" />
<meta property="og:site_name" content="Now’s Log" />
<meta property="og:image" content="https://kguswo.dev/../assets/posts/ed9894b4bc92b6f5f00be5c74d429012a145496b49ee4db7efa2b50281fcb683.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-12-10T02:47:02+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://kguswo.dev/../assets/posts/ed9894b4bc92b6f5f00be5c74d429012a145496b49ee4db7efa2b50281fcb683.png" />
<meta property="twitter:title" content="레디스 기본 개념" />
<meta name="twitter:site" content="@twitter_username" />
<meta name="google-site-verification" content="AQ2pk5Wmoq7YGQpPKFrF8XIbK5PiFpBezZ3XXeQirOk" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-12-10T02:47:02+09:00","datePublished":"2025-12-10T02:47:02+09:00","description":"3장 : 레디스 기본 개념","headline":"레디스 기본 개념","image":"https://kguswo.dev/../assets/posts/ed9894b4bc92b6f5f00be5c74d429012a145496b49ee4db7efa2b50281fcb683.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kguswo.dev/posts/%EB%A0%88%EB%94%94%EC%8A%A4-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90/"},"url":"https://kguswo.dev/posts/%EB%A0%88%EB%94%94%EC%8A%A4-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90/"}</script>
<!-- End Jekyll SEO tag -->


  <title>레디스 기본 개념 | Now's Log
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Now's Log">
<meta name="application-name" content="Now's Log">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profileImg.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Now's Log</a>
    <p class="site-subtitle fst-italic mb-0">Curiosity into Action</p>

    <!-- 방문자카운터 추가 -->
    <div class="mt-2">
      <a href="https://hit-me-up-336ec.web.app" target="_blank" rel="noopener noreferrer">
        <img
          src="https://hitmeup-backend-593087166771.asia-northeast1.run.app/api/count/increment?url=https%3A%2F%2Fkguswo.github.io%2Fabout%2F&title=hits&title_bg=555555&count_bg=79c83d&edge_flat=false"
          alt="Total Hits" style="max-width: 100px;">
      </a>
    </div>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/Kguswo"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/hyeon-jae-kim-64b417299/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nowalex322','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>레디스 기본 개념</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>레디스 기본 개념</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1765302422"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Dec 10, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/../assets/posts/ed9894b4bc92b6f5f00be5c74d429012a145496b49ee4db7efa2b50281fcb683.png" class="popup img-link preview-img shimmer"><img src="/../assets/posts/ed9894b4bc92b6f5f00be5c74d429012a145496b49ee4db7efa2b50281fcb683.png"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="4926 words"
>
  <em>27 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">레디스 기본 개념</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">레디스 기본 개념</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h1 id="3장--레디스-기본-개념">3장 : 레디스 기본 개념</h1>

<h3 id="들어가며"><span class="me-2">들어가며</span><a href="#들어가며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>레디스는 단순한 키-값 저장소가 아니다. <strong>다양한 자료 구조를 지원하는 데이터 구조 서버</strong> 라고 표현하는 것이 더 정확하다. 기존의 키-값 저장소가 문자열 키와 문자열 값만을 연결했다면, 레디스는 String, List, Hash, Set, Sorted Set 등 복잡한 자료 구조를 지원한다.</p>

<p>이번 장에서는 레디스가 제공하는 자료 구조들의 특징과 사용법을 살펴보고, 키를 효율적으로 관리하는 방법까지 알아본다.</p>

<p><br /></p>

<h2 id="레디스의-자료-구조"><span class="me-2">레디스의 자료 구조</span><a href="#레디스의-자료-구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="string"><span class="me-2">String</span><a href="#string" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>String은 레디스에서 <strong>가장 기본적인 자료 구조</strong> 다. 키와 연결할 수 있는 가장 단순한 유형의 값이며, 레디스의 키가 문자열이므로 문자열을 다른 문자열에 매핑하는 구조라고 볼 수 있다.</p>

<p>String 타입에는 모든 종류의 문자열(이진 데이터 포함)을 저장할 수 있다. 따라서 JPEG 이미지를 저장하거나 HTML fragment를 캐시하는 용도로 자주 사용한다. 저장할 수 있는 <strong>최대 크기는 512MB</strong> 다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># 기본 SET/GET</span>
127.0.0.1:6379&gt; SET hello world
OK
127.0.0.1:6379&gt; GET hello
<span class="s2">"world"</span>
</pre></td></tr></tbody></table></code></div></div>

<p>기본적으로 기존 값은 새로 입력된 값으로 계속 대체된다. SET과 함께 <strong>NX 옵션</strong> 을 사용하면 지정한 키가 없을 때에만 새로운 키를 저장한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># 이미 hello라는 키가 있으므로 저장되지 않음</span>
127.0.0.1:6379&gt; SET hello newval NX
<span class="o">(</span>nil<span class="o">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>SET과 함께 <strong>XX 옵션</strong> 을 사용하면 키가 이미 있을 때에만 새로운 값으로 덮어 씌우며, 새로운 키를 생성하지 않는다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SET hello newval XX
OK
127.0.0.1:6379&gt; GET hello
<span class="s2">"newval"</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="nx-옵션의-활용-분산-락"><span class="me-2">NX 옵션의 활용: 분산 락</span><a href="#nx-옵션의-활용-분산-락" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>NX 옵션은 <strong>분산 락(Distributed Lock)</strong> 구현에 핵심적으로 사용된다. 분산 락이란 여러 서버(프로세스)가 동시에 같은 자원에 접근할 때 한 번에 하나만 접근하도록 제어하는 장치다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># 서버 A가 락 획득 시도 (10초 후 자동 만료)</span>
127.0.0.1:6379&gt; SET lock:order123 <span class="s2">"serverA"</span> NX EX 10
OK  <span class="c"># 성공!</span>

<span class="c"># 서버 B가 락 획득 시도</span>
127.0.0.1:6379&gt; SET lock:order123 <span class="s2">"serverB"</span> NX EX 10
<span class="o">(</span>nil<span class="o">)</span>  <span class="c"># 실패 - 이미 A가 잡고 있음</span>

<span class="c"># 서버 A가 작업 완료 후 락 해제</span>
127.0.0.1:6379&gt; DEL lock:order123
</pre></td></tr></tbody></table></code></div></div>

<p>NX는 “없을 때만 생성”이므로 먼저 요청한 서버만 성공하고 나머지는 실패한다. EX 옵션으로 만료 시간을 설정하면 서버가 죽어서 락을 못 풀어도 자동으로 해제된다.</p>

<h4 id="숫자-증감-연산"><span class="me-2">숫자 증감 연산</span><a href="#숫자-증감-연산" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>숫자 형태의 데이터를 저장하면 <strong>INCR, INCRBY, DECR, DECRBY</strong> 커맨드를 이용해 원자적으로 조작할 수 있다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SET counter 100
OK
127.0.0.1:6379&gt; INCR counter
<span class="o">(</span>integer<span class="o">)</span> 101
127.0.0.1:6379&gt; INCRBY counter 50
<span class="o">(</span>integer<span class="o">)</span> 151
127.0.0.1:6379&gt; DECR counter
<span class="o">(</span>integer<span class="o">)</span> 150
</pre></td></tr></tbody></table></code></div></div>

<p>여기서 <strong>원자적(Atomic)</strong> 이란 여러 클라이언트가 동시에 INCR을 호출해도 값이 꼬이지 않는다는 의미다. 레디스는 싱글 스레드로 동작하기 때문에 명령어가 하나씩 순서대로 실행되어 동시성 문제가 발생하지 않는다.</p>

<p><br /></p>

<h3 id="list"><span class="me-2">List</span><a href="#list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>List는 <strong>순서가 있는 문자열의 집합</strong> 이다. 내부적으로 Linked List 형태로 구현되어 있어 양 끝에서의 삽입과 삭제가 O(1)로 매우 빠르다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="c"># 왼쪽에 추가 (head)</span>
127.0.0.1:6379&gt; LPUSH mylist <span class="s2">"a"</span>
<span class="o">(</span>integer<span class="o">)</span> 1
127.0.0.1:6379&gt; LPUSH mylist <span class="s2">"b"</span> <span class="s2">"c"</span>
<span class="o">(</span>integer<span class="o">)</span> 3
<span class="c"># 결과: [c, b, a]</span>

<span class="c"># 오른쪽에 추가 (tail)</span>
127.0.0.1:6379&gt; RPUSH mylist <span class="s2">"d"</span>
<span class="o">(</span>integer<span class="o">)</span> 4
<span class="c"># 결과: [c, b, a, d]</span>

<span class="c"># 왼쪽에서 꺼내기</span>
127.0.0.1:6379&gt; LPOP mylist
<span class="s2">"c"</span>

<span class="c"># 오른쪽에서 꺼내기</span>
127.0.0.1:6379&gt; RPOP mylist
<span class="s2">"d"</span>

<span class="c"># 범위 조회</span>
127.0.0.1:6379&gt; LRANGE mylist 0 <span class="nt">-1</span>
1<span class="o">)</span> <span class="s2">"b"</span>
2<span class="o">)</span> <span class="s2">"a"</span>
</pre></td></tr></tbody></table></code></div></div>

<p>List는 <strong>큐(Queue)</strong> 나 <strong>스택(Stack)</strong> 으로 활용할 수 있다.</p>
<ul>
  <li>큐: LPUSH + RPOP (또는 RPUSH + LPOP)</li>
  <li>스택: LPUSH + LPOP</li>
</ul>

<h4 id="list의-내부-구조-quicklist"><span class="me-2">List의 내부 구조: Quicklist</span><a href="#list의-내부-구조-quicklist" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>레디스 3.2 버전부터 List는 <strong>Quicklist</strong> 라는 자료 구조로 구현된다. Quicklist는 Ziplist들을 Linked List로 연결한 형태다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[quicklistNode] ↔ [quicklistNode] ↔ [quicklistNode]
       ↓                 ↓                 ↓
   [ziplist]         [ziplist]         [ziplist]
   [a][b][c]         [d][e][f]         [g][h][i]
</pre></td></tr></tbody></table></code></div></div>

<p><strong>Ziplist</strong> 는 연속된 메모리에 데이터를 압축 저장하여 메모리 효율이 높다. 순수 Linked List는 노드당 약 40바이트의 포인터 오버헤드가 발생하지만, Ziplist는 1~10바이트 수준이다.</p>

<p>하지만 Ziplist만 사용하면 앞에 데이터를 삽입할 때 전체를 복사해야 하는 문제가 있다. Quicklist는 작은 Ziplist들을 연결하여 <strong>메모리 효율과 성능을 모두 확보</strong> 한다.</p>

<h4 id="시간-복잡도-정리"><span class="me-2">시간 복잡도 정리</span><a href="#시간-복잡도-정리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>명령어</th>
      <th>시간 복잡도</th>
      <th>이유</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>LPUSH / RPUSH</td>
      <td>O(1)</td>
      <td>양 끝은 바로 접근</td>
    </tr>
    <tr>
      <td>LPOP / RPOP</td>
      <td>O(1)</td>
      <td>양 끝은 바로 접근</td>
    </tr>
    <tr>
      <td>LINDEX</td>
      <td>O(N)</td>
      <td>인덱스까지 순회</td>
    </tr>
    <tr>
      <td>LINSERT</td>
      <td>O(N)</td>
      <td>pivot 찾을 때까지 순회</td>
    </tr>
    <tr>
      <td>LRANGE</td>
      <td>O(S+N)</td>
      <td>시작점까지 이동 + 개수만큼</td>
    </tr>
  </tbody>
</table></div>

<p><strong>핵심:</strong> List는 양 끝 작업에 최적화되어 있다. 중간 작업이 많으면 다른 자료 구조를 고려해야 한다.</p>

<p><br /></p>

<h3 id="hash"><span class="me-2">Hash</span><a href="#hash" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Hash는 <strong>필드-값 쌍을 저장</strong> 하는 자료 구조다. 하나의 키 아래에 여러 필드를 저장할 수 있어 객체를 표현하기에 적합하다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="c"># 저장</span>
127.0.0.1:6379&gt; HSET user:123 name <span class="s2">"kim"</span> age 25 city <span class="s2">"seoul"</span>
<span class="o">(</span>integer<span class="o">)</span> 3

<span class="c"># 단일 필드 조회</span>
127.0.0.1:6379&gt; HGET user:123 name
<span class="s2">"kim"</span>

<span class="c"># 전체 조회</span>
127.0.0.1:6379&gt; HGETALL user:123
1<span class="o">)</span> <span class="s2">"name"</span>
2<span class="o">)</span> <span class="s2">"kim"</span>
3<span class="o">)</span> <span class="s2">"age"</span>
4<span class="o">)</span> <span class="s2">"25"</span>
5<span class="o">)</span> <span class="s2">"city"</span>
6<span class="o">)</span> <span class="s2">"seoul"</span>

<span class="c"># 여러 필드 조회</span>
127.0.0.1:6379&gt; HMGET user:123 name age
1<span class="o">)</span> <span class="s2">"kim"</span>
2<span class="o">)</span> <span class="s2">"25"</span>

<span class="c"># 필드 삭제</span>
127.0.0.1:6379&gt; HDEL user:123 city
<span class="o">(</span>integer<span class="o">)</span> 1

<span class="c"># 숫자 증가</span>
127.0.0.1:6379&gt; HINCRBY user:123 age 1
<span class="o">(</span>integer<span class="o">)</span> 26
</pre></td></tr></tbody></table></code></div></div>

<h4 id="string-여러-개-vs-hash-하나"><span class="me-2">String 여러 개 vs Hash 하나</span><a href="#string-여러-개-vs-hash-하나" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>사용자 정보를 저장할 때 두 가지 방법을 비교해보자.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c"># 방법 1: String 여러 개</span>
SET user:123:name <span class="s2">"kim"</span>
SET user:123:age 25
SET user:123:city <span class="s2">"seoul"</span>
<span class="c"># 키 3개, 메모리 더 사용, 조회 3번</span>

<span class="c"># 방법 2: Hash 하나</span>
HSET user:123 name <span class="s2">"kim"</span> age 25 city <span class="s2">"seoul"</span>
<span class="c"># 키 1개, 메모리 적게 사용, 조회 1번</span>
</pre></td></tr></tbody></table></code></div></div>

<p>관련 데이터는 <strong>Hash로 묶는 것이 효율적</strong> 이다.</p>

<h4 id="hash의-내부-구조"><span class="me-2">Hash의 내부 구조</span><a href="#hash의-내부-구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Hash는 데이터 크기에 따라 두 가지 인코딩을 사용한다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>데이터가 작을 때: listpack (또는 ziplist)
데이터가 클 때:   hashtable
</pre></td></tr></tbody></table></code></div></div>

<p>기준은 redis.conf에서 설정할 수 있다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>hash-max-listpack-entries 512   <span class="c"># 필드 512개 이하</span>
hash-max-listpack-value 64      <span class="c"># 각 값 64바이트 이하</span>
</pre></td></tr></tbody></table></code></div></div>

<p>둘 다 만족하면 listpack, 하나라도 넘으면 hashtable로 변환된다. 작은 데이터에 listpack을 사용하는 이유는 해시테이블의 포인터 오버헤드 없이 메모리를 절약할 수 있기 때문이다.</p>

<h4 id="hgetall-주의사항"><span class="me-2">HGETALL 주의사항</span><a href="#hgetall-주의사항" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>HGETALL user:123
</pre></td></tr></tbody></table></code></div></div>

<p>필드가 100만 개면 100만 개를 전부 읽어서 반환한다. 그동안 레디스는 블로킹되어 다른 요청을 처리하지 못한다. 대량의 필드가 있다면 <strong>HSCAN</strong> 을 사용해야 한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>HSCAN user:123 0 COUNT 100
<span class="c"># 100개씩 나눠서 조회 (커서 기반)</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="set"><span class="me-2">Set</span><a href="#set" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Set은 <strong>중복 없는 문자열의 집합</strong> 이다. 순서가 없으며, 집합 연산(교집합, 합집합, 차집합)을 지원한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="c"># 추가</span>
127.0.0.1:6379&gt; SADD fruits <span class="s2">"apple"</span> <span class="s2">"banana"</span> <span class="s2">"orange"</span>
<span class="o">(</span>integer<span class="o">)</span> 3
127.0.0.1:6379&gt; SADD fruits <span class="s2">"apple"</span>  <span class="c"># 중복 → 무시</span>
<span class="o">(</span>integer<span class="o">)</span> 0

<span class="c"># 전체 조회</span>
127.0.0.1:6379&gt; SMEMBERS fruits
1<span class="o">)</span> <span class="s2">"apple"</span>
2<span class="o">)</span> <span class="s2">"banana"</span>
3<span class="o">)</span> <span class="s2">"orange"</span>

<span class="c"># 개수</span>
127.0.0.1:6379&gt; SCARD fruits
<span class="o">(</span>integer<span class="o">)</span> 3

<span class="c"># 존재 확인</span>
127.0.0.1:6379&gt; SISMEMBER fruits <span class="s2">"apple"</span>
<span class="o">(</span>integer<span class="o">)</span> 1
127.0.0.1:6379&gt; SISMEMBER fruits <span class="s2">"grape"</span>
<span class="o">(</span>integer<span class="o">)</span> 0

<span class="c"># 삭제</span>
127.0.0.1:6379&gt; SREM fruits <span class="s2">"banana"</span>
<span class="o">(</span>integer<span class="o">)</span> 1
</pre></td></tr></tbody></table></code></div></div>

<h4 id="집합-연산"><span class="me-2">집합 연산</span><a href="#집합-연산" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SADD setA <span class="s2">"a"</span> <span class="s2">"b"</span> <span class="s2">"c"</span>
127.0.0.1:6379&gt; SADD setB <span class="s2">"b"</span> <span class="s2">"c"</span> <span class="s2">"d"</span>

<span class="c"># 교집합</span>
127.0.0.1:6379&gt; SINTER setA setB
1<span class="o">)</span> <span class="s2">"b"</span>
2<span class="o">)</span> <span class="s2">"c"</span>

<span class="c"># 합집합</span>
127.0.0.1:6379&gt; SUNION setA setB
1<span class="o">)</span> <span class="s2">"a"</span>
2<span class="o">)</span> <span class="s2">"b"</span>
3<span class="o">)</span> <span class="s2">"c"</span>
4<span class="o">)</span> <span class="s2">"d"</span>

<span class="c"># 차집합 (A - B)</span>
127.0.0.1:6379&gt; SDIFF setA setB
1<span class="o">)</span> <span class="s2">"a"</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="set의-내부-구조"><span class="me-2">Set의 내부 구조</span><a href="#set의-내부-구조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Set도 데이터 특성에 따라 인코딩이 달라진다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>정수만 저장하고 개수가 적을 때: intset
그 외: hashtable
</pre></td></tr></tbody></table></code></div></div>

<p><strong>intset</strong> 은 정수만 저장할 때 사용되는 매우 효율적인 구조다. 정렬된 정수 배열로 저장되어 이진 탐색으로 O(log N) 조회가 가능하다.</p>

<p><br /></p>

<h3 id="sorted-set"><span class="me-2">Sorted Set</span><a href="#sorted-set" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Sorted Set은 Set처럼 <strong>중복 없음</strong> + <strong>score로 정렬</strong> 되는 집합이다. 각 멤버에 score(점수)가 부여되어 자동으로 정렬된다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td><td class="rouge-code"><pre><span class="c"># 추가 (score, member)</span>
127.0.0.1:6379&gt; ZADD ranking 100 <span class="s2">"kim"</span>
127.0.0.1:6379&gt; ZADD ranking 85 <span class="s2">"lee"</span>
127.0.0.1:6379&gt; ZADD ranking 95 <span class="s2">"park"</span>

<span class="c"># score 순 조회 (오름차순)</span>
127.0.0.1:6379&gt; ZRANGE ranking 0 <span class="nt">-1</span> WITHSCORES
1<span class="o">)</span> <span class="s2">"lee"</span>
2<span class="o">)</span> <span class="s2">"85"</span>
3<span class="o">)</span> <span class="s2">"park"</span>
4<span class="o">)</span> <span class="s2">"95"</span>
5<span class="o">)</span> <span class="s2">"kim"</span>
6<span class="o">)</span> <span class="s2">"100"</span>

<span class="c"># 내림차순</span>
127.0.0.1:6379&gt; ZREVRANGE ranking 0 <span class="nt">-1</span> WITHSCORES
1<span class="o">)</span> <span class="s2">"kim"</span>
2<span class="o">)</span> <span class="s2">"100"</span>
3<span class="o">)</span> <span class="s2">"park"</span>
4<span class="o">)</span> <span class="s2">"95"</span>
5<span class="o">)</span> <span class="s2">"lee"</span>
6<span class="o">)</span> <span class="s2">"85"</span>

<span class="c"># 특정 멤버 순위 (0부터 시작)</span>
127.0.0.1:6379&gt; ZREVRANK ranking <span class="s2">"kim"</span>
<span class="o">(</span>integer<span class="o">)</span> 0  <span class="c"># 1등</span>

<span class="c"># 특정 멤버 score 조회</span>
127.0.0.1:6379&gt; ZSCORE ranking <span class="s2">"kim"</span>
<span class="s2">"100"</span>

<span class="c"># score 증가</span>
127.0.0.1:6379&gt; ZINCRBY ranking 20 <span class="s2">"lee"</span>
<span class="s2">"105"</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="sorted-set의-내부-구조-skiplist"><span class="me-2">Sorted Set의 내부 구조: Skiplist</span><a href="#sorted-set의-내부-구조-skiplist" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>데이터가 클 때 Sorted Set은 <strong>Skiplist + Hashtable</strong> 조합으로 구현된다.</p>

<p><strong>Skiplist</strong> 는 계층화된 Linked List다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>Level 3:  1 ─────────────────────────→ 9
Level 2:  1 ──────────→ 5 ──────────→ 9
Level 1:  1 ───→ 3 ───→ 5 ───→ 7 ───→ 9
Level 0:  1 → 2 → 3 → 4 → 5 → 6 → 7 → 8 → 9
</pre></td></tr></tbody></table></code></div></div>

<p>상위 레벨에서 빠르게 건너뛰고, 필요할 때 하위 레벨로 내려가서 탐색한다. 이를 통해 O(log N) 탐색이 가능하다.</p>

<p><strong>Hashtable</strong> 은 member로 score를 빠르게 조회하기 위해 함께 사용된다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>Skiplist만 있으면:
ZSCORE ranking "kim" → O(log N) 탐색 필요

Skiplist + Hashtable:
member → score 매핑을 hashtable에 저장
ZSCORE ranking "kim" → O(1)
</pre></td></tr></tbody></table></code></div></div>

<p>메모리는 더 쓰지만 조회 성능을 확보한다.</p>

<h4 id="동점자-처리"><span class="me-2">동점자 처리</span><a href="#동점자-처리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>score가 같으면 <strong>member의 사전순</strong> 으로 정렬된다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; ZADD ranking 100 <span class="s2">"kim"</span> 100 <span class="s2">"lee"</span> 100 <span class="s2">"park"</span>
127.0.0.1:6379&gt; ZRANGE ranking 0 <span class="nt">-1</span>
1<span class="o">)</span> <span class="s2">"kim"</span>
2<span class="o">)</span> <span class="s2">"lee"</span>
3<span class="o">)</span> <span class="s2">"park"</span>
<span class="c"># k &lt; l &lt; p 순서</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="비트맵"><span class="me-2">비트맵</span><a href="#비트맵" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>비트맵은 <strong>비트(0/1) 단위로 데이터를 저장</strong> 한다. 사실 별도의 자료 구조가 아니라 String의 확장이다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="c"># 특정 위치에 비트 설정</span>
127.0.0.1:6379&gt; SETBIT <span class="nb">users</span>:login:20241201 123 1
<span class="c"># 123번 유저가 12월 1일에 로그인했다!</span>

127.0.0.1:6379&gt; SETBIT <span class="nb">users</span>:login:20241201 456 1
<span class="c"># 456번 유저도 로그인</span>

<span class="c"># 비트 조회</span>
127.0.0.1:6379&gt; GETBIT <span class="nb">users</span>:login:20241201 123
<span class="o">(</span>integer<span class="o">)</span> 1

127.0.0.1:6379&gt; GETBIT <span class="nb">users</span>:login:20241201 789
<span class="o">(</span>integer<span class="o">)</span> 0

<span class="c"># 1인 비트 개수 (로그인한 유저 수)</span>
127.0.0.1:6379&gt; BITCOUNT <span class="nb">users</span>:login:20241201
<span class="o">(</span>integer<span class="o">)</span> 2
</pre></td></tr></tbody></table></code></div></div>

<h4 id="비트-연산"><span class="me-2">비트 연산</span><a href="#비트-연산" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># 12월 1일, 2일 모두 로그인한 유저 (AND)</span>
127.0.0.1:6379&gt; BITOP AND both_days <span class="nb">users</span>:login:20241201 <span class="nb">users</span>:login:20241202

<span class="c"># 12월 1일 또는 2일에 로그인한 유저 (OR)</span>
127.0.0.1:6379&gt; BITOP OR any_day <span class="nb">users</span>:login:20241201 <span class="nb">users</span>:login:20241202
</pre></td></tr></tbody></table></code></div></div>

<h4 id="메모리-효율"><span class="me-2">메모리 효율</span><a href="#메모리-효율" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>유저 100만 명의 로그인 여부를 저장한다고 가정하자.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Set으로 저장: 100만 개 유저 ID 저장 → 수십 MB
Bitmap으로 저장: 100만 비트 = 125KB
</pre></td></tr></tbody></table></code></div></div>

<p><strong>주의:</strong> SETBIT으로 큰 오프셋을 설정하면 중간이 모두 0으로 채워져 메모리를 많이 사용할 수 있다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>SETBIT mykey 1000000000 1
<span class="c"># 10억 번째 비트 = 125MB 할당!</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="hyperloglog"><span class="me-2">HyperLogLog</span><a href="#hyperloglog" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>HyperLogLog는 <strong>대량 데이터의 고유 개수(cardinality)를 추정</strong> 하는 확률적 자료 구조다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="c"># 추가</span>
127.0.0.1:6379&gt; PFADD visitors <span class="s2">"user1"</span> <span class="s2">"user2"</span> <span class="s2">"user3"</span>
<span class="o">(</span>integer<span class="o">)</span> 1
127.0.0.1:6379&gt; PFADD visitors <span class="s2">"user1"</span>  <span class="c"># 중복</span>
<span class="o">(</span>integer<span class="o">)</span> 0

<span class="c"># 고유 개수 추정</span>
127.0.0.1:6379&gt; PFCOUNT visitors
<span class="o">(</span>integer<span class="o">)</span> 3

<span class="c"># 여러 HyperLogLog 합치기</span>
127.0.0.1:6379&gt; PFADD visitors:day1 <span class="s2">"user1"</span> <span class="s2">"user2"</span>
127.0.0.1:6379&gt; PFADD visitors:day2 <span class="s2">"user2"</span> <span class="s2">"user3"</span>
127.0.0.1:6379&gt; PFMERGE visitors:week visitors:day1 visitors:day2
127.0.0.1:6379&gt; PFCOUNT visitors:week
<span class="o">(</span>integer<span class="o">)</span> 3
</pre></td></tr></tbody></table></code></div></div>

<h4 id="핵심-특징"><span class="me-2">핵심 특징</span><a href="#핵심-특징" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<ul>
  <li><strong>오차율:</strong> 약 0.81%</li>
  <li><strong>메모리:</strong> 최대 12KB 고정</li>
  <li>데이터가 1억 개여도 12KB</li>
</ul>

<h4 id="동작-원리"><span class="me-2">동작 원리</span><a href="#동작-원리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>HyperLogLog는 <strong>“드문 패턴이 나왔다 = 많이 시도했다”</strong> 는 확률적 원리를 이용한다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>데이터를 해시로 변환하면 0과 1로 된 비트열이 된다.
이 비트열에서 앞에 0이 연속으로 몇 개인지 관찰한다.

"user1" → 해시 → 000... → 0이 3개 연속 → 대략 2^3 = 8개
"user2" → 해시 → 0000... → 0이 4개 연속 → 대략 2^4 = 16개

0이 많이 연속될수록 더 많은 데이터가 있다고 추정한다.
</pre></td></tr></tbody></table></code></div></div>

<p>16,384개의 버킷을 사용해 여러 번 측정하고 평균을 내서 정확도를 높인다.</p>

<h4 id="set-vs-hyperloglog"><span class="me-2">Set vs HyperLogLog</span><a href="#set-vs-hyperloglog" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>고유 방문자 100만 명

Set: 수십 MB
HyperLogLog: 12KB

단, HyperLogLog는:
- 개별 요소 조회 불가 ("user1이 있는지?" → 확인 불가)
- 삭제 불가
- 정확한 값이 아닌 추정값
</pre></td></tr></tbody></table></code></div></div>

<p><strong>정확한 값</strong> 이 필요하면 Set, <strong>대략적인 개수</strong> 만 필요하면 HyperLogLog를 사용한다.</p>

<p><br /></p>

<h3 id="geospatial"><span class="me-2">Geospatial</span><a href="#geospatial" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Geospatial은 <strong>위치 데이터(경도, 위도)를 저장하고 조회</strong> 하는 자료 구조다. 내부적으로 Sorted Set을 사용한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># 위치 추가 (경도 위도 member)</span>
127.0.0.1:6379&gt; GEOADD travel 127.0016985 37.5642135 <span class="s2">"seoul"</span>
127.0.0.1:6379&gt; GEOADD travel 14.399698 50.099242 <span class="s2">"prague"</span>
127.0.0.1:6379&gt; GEOADD travel <span class="nt">-122</span>.434547 37.785303 <span class="s2">"sanfrancisco"</span>

<span class="c"># 위치 조회</span>
127.0.0.1:6379&gt; GEOPOS travel seoul
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"127.00169831514358521"</span>
   2<span class="o">)</span> <span class="s2">"37.56421336758489099"</span>

<span class="c"># 두 위치 사이의 거리</span>
127.0.0.1:6379&gt; GEODIST travel seoul prague KM
<span class="s2">"8252.9957"</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="stream"><span class="me-2">Stream</span><a href="#stream" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Stream은 <strong>로그성 데이터를 저장하고 소비</strong> 하는 자료 구조다. 카프카처럼 메시지 브로커로 사용할 수 있다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="c"># 메시지 추가 (* = 자동 ID 생성)</span>
127.0.0.1:6379&gt; XADD mystream <span class="k">*</span> name <span class="s2">"kim"</span> action <span class="s2">"login"</span>
<span class="s2">"1733840000000-0"</span>

127.0.0.1:6379&gt; XADD mystream <span class="k">*</span> name <span class="s2">"lee"</span> action <span class="s2">"purchase"</span>
<span class="s2">"1733840000001-0"</span>

<span class="c"># 전체 조회</span>
127.0.0.1:6379&gt; XRANGE mystream - +
1<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"1733840000000-0"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"name"</span>
      2<span class="o">)</span> <span class="s2">"kim"</span>
      3<span class="o">)</span> <span class="s2">"action"</span>
      4<span class="o">)</span> <span class="s2">"login"</span>
2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"1733840000001-0"</span>
   2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"name"</span>
      2<span class="o">)</span> <span class="s2">"lee"</span>
      3<span class="o">)</span> <span class="s2">"action"</span>
      4<span class="o">)</span> <span class="s2">"purchase"</span>

<span class="c"># 개수</span>
127.0.0.1:6379&gt; XLEN mystream
<span class="o">(</span>integer<span class="o">)</span> 2
</pre></td></tr></tbody></table></code></div></div>

<h4 id="list-vs-stream"><span class="me-2">List vs Stream</span><a href="#list-vs-stream" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>List (LPUSH + BRPOP):
- 메시지 꺼내면 사라짐
- 한 소비자만 받을 수 있음
- 처리 실패하면 메시지 유실

Stream:
- 메시지 계속 보관 (로그처럼)
- 여러 소비자 그룹이 같은 메시지 소비 가능
- 처리 실패해도 다시 읽을 수 있음
</pre></td></tr></tbody></table></code></div></div>

<h4 id="소비자-그룹"><span class="me-2">소비자 그룹</span><a href="#소비자-그룹" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>여러 소비자가 메시지를 나눠서 처리할 수 있다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c"># 그룹 생성</span>
127.0.0.1:6379&gt; XGROUP CREATE mystream mygroup <span class="nv">$ </span>MKSTREAM

<span class="c"># 소비자가 메시지 가져가기</span>
127.0.0.1:6379&gt; XREADGROUP GROUP mygroup consumer1 COUNT 1 STREAMS mystream <span class="o">&gt;</span>

<span class="c"># 처리 완료 알림</span>
127.0.0.1:6379&gt; XACK mystream mygroup 1733840000000-0
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="레디스에서-키를-관리하는-법"><span class="me-2">레디스에서 키를 관리하는 법</span><a href="#레디스에서-키를-관리하는-법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="키의-자동-생성과-삭제"><span class="me-2">키의 자동 생성과 삭제</span><a href="#키의-자동-생성과-삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>레디스는 키를 <strong>자동으로 생성하고 삭제</strong> 한다.</p>

<p><strong>규칙 1: 키가 없으면 자동 생성</strong></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; DEL mylist
127.0.0.1:6379&gt; LPUSH mylist <span class="s2">"a"</span> <span class="s2">"b"</span> <span class="s2">"c"</span>
<span class="o">(</span>integer<span class="o">)</span> 3
<span class="c"># mylist 키가 자동 생성됨</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>규칙 2: 마지막 아이템 삭제되면 키도 삭제</strong></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; LPUSH mylist <span class="s2">"a"</span>
<span class="o">(</span>integer<span class="o">)</span> 1
127.0.0.1:6379&gt; LPOP mylist
<span class="s2">"a"</span>
127.0.0.1:6379&gt; EXISTS mylist
<span class="o">(</span>integer<span class="o">)</span> 0  <span class="c"># 키가 사라짐</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>규칙 3: 키가 없는데 조회하면 빈 값 반환</strong></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; LRANGE mylist 0 <span class="nt">-1</span>
<span class="o">(</span>empty array<span class="o">)</span>  <span class="c"># 에러 안 남</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>주의: 타입이 다르면 에러</strong></p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SET hello <span class="s2">"world"</span>
OK
127.0.0.1:6379&gt; LPUSH hello <span class="s2">"a"</span>
<span class="o">(</span>error<span class="o">)</span> WRONGTYPE Operation against a key holding the wrong kind of value
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="키와-관련된-커맨드"><span class="me-2">키와 관련된 커맨드</span><a href="#키와-관련된-커맨드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<h4 id="exists"><span class="me-2">EXISTS</span><a href="#exists" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>키 존재 여부를 확인한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; EXISTS mykey
<span class="o">(</span>integer<span class="o">)</span> 1  <span class="c"># 있음</span>

127.0.0.1:6379&gt; EXISTS key1 key2 key3
<span class="o">(</span>integer<span class="o">)</span> 2  <span class="c"># 존재하는 키 개수</span>
</pre></td></tr></tbody></table></code></div></div>

<h4 id="keys"><span class="me-2">KEYS</span><a href="#keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>패턴으로 키를 조회한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; KEYS <span class="k">*</span>
<span class="c"># 모든 키</span>

127.0.0.1:6379&gt; KEYS user:<span class="k">*</span>
<span class="c"># user:로 시작하는 키</span>

127.0.0.1:6379&gt; KEYS user:???
<span class="c"># user: + 3글자</span>
</pre></td></tr></tbody></table></code></div></div>

<blockquote class="prompt-warning">
  <p><strong>주의: 프로덕션에서 KEYS를 사용하면 안 된다.</strong></p>

  <p>모든 키를 스캔하므로 O(N)이며, 키가 많으면 레디스가 블로킹된다.</p>
</blockquote>

<h4 id="scan"><span class="me-2">SCAN</span><a href="#scan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>커서 기반으로 키를 조회한다. KEYS와 달리 <strong>조금씩 나눠서 조회</strong> 하므로 안전하다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SCAN 0
1<span class="o">)</span> <span class="s2">"17"</span>        <span class="c"># 다음 커서</span>
2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"key1"</span>   <span class="c"># 찾은 키들</span>
   2<span class="o">)</span> <span class="s2">"key2"</span>

127.0.0.1:6379&gt; SCAN 17
1<span class="o">)</span> <span class="s2">"0"</span>         <span class="c"># 0이면 스캔 완료</span>
2<span class="o">)</span> 1<span class="o">)</span> <span class="s2">"key3"</span>

<span class="c"># 패턴 매칭과 개수 힌트</span>
127.0.0.1:6379&gt; SCAN 0 MATCH user:<span class="k">*</span> COUNT 100
</pre></td></tr></tbody></table></code></div></div>

<p>커서가 0으로 돌아오면 전체 스캔이 완료된 것이다.</p>

<h4 id="del과-unlink"><span class="me-2">DEL과 UNLINK</span><a href="#del과-unlink" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># DEL: 동기 삭제</span>
127.0.0.1:6379&gt; DEL mykey

<span class="c"># UNLINK: 비동기 삭제</span>
127.0.0.1:6379&gt; UNLINK mykey
</pre></td></tr></tbody></table></code></div></div>

<p><strong>DEL</strong> 은 즉시 삭제하므로 큰 데이터면 블로킹이 발생한다. <strong>UNLINK</strong> 는 키와의 연결만 끊고 실제 메모리 해제는 백그라운드에서 처리한다. 큰 데이터를 삭제할 때는 UNLINK를 사용해야 한다.</p>

<h4 id="expire와-ttl"><span class="me-2">EXPIRE와 TTL</span><a href="#expire와-ttl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; SET session:123 <span class="s2">"data"</span>
OK
127.0.0.1:6379&gt; EXPIRE session:123 3600
<span class="o">(</span>integer<span class="o">)</span> 1

127.0.0.1:6379&gt; TTL session:123
<span class="o">(</span>integer<span class="o">)</span> 3598  <span class="c"># 남은 시간(초)</span>

<span class="c"># 처음부터 만료 시간과 함께 저장</span>
127.0.0.1:6379&gt; SET session:123 <span class="s2">"data"</span> EX 3600
</pre></td></tr></tbody></table></code></div></div>

<h4 id="ttl의-내부-동작"><span class="me-2">TTL의 내부 동작</span><a href="#ttl의-내부-동작" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>TTL은 카운트다운 방식이 아니다. <strong>만료될 시각(Unix timestamp)을 저장</strong> 해두고, 조회 시 현재 시각과 비교한다.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>key: session:123
expire_at: 1733840060000

TTL 조회 시:
만료 시각 - 현재 시각 = 남은 시간
</pre></td></tr></tbody></table></code></div></div>

<p>만료된 키는 두 가지 방식으로 삭제된다.</p>

<ol>
  <li><strong>Lazy 삭제:</strong> 키에 접근할 때 만료 여부를 확인하고 삭제</li>
  <li><strong>Active 삭제:</strong> 백그라운드에서 주기적으로 샘플링하여 삭제 (매초 10번, 20개씩 샘플링)</li>
</ol>

<p>두 방식을 조합하여 CPU 부하와 메모리 효율의 균형을 맞춘다.</p>

<h4 id="rename"><span class="me-2">RENAME</span><a href="#rename" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>키 이름을 변경한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; RENAME oldkey newkey

<span class="c"># newkey가 없을 때만 변경</span>
127.0.0.1:6379&gt; RENAMENX oldkey newkey
</pre></td></tr></tbody></table></code></div></div>

<h4 id="type"><span class="me-2">TYPE</span><a href="#type" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>키의 자료 구조 타입을 확인한다.</p>

<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>127.0.0.1:6379&gt; TYPE mystring
string

127.0.0.1:6379&gt; TYPE mylist
list

127.0.0.1:6379&gt; TYPE myset
<span class="nb">set</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h3 id="마치며"><span class="me-2">마치며</span><a href="#마치며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>레디스의 핵심 원칙을 정리하면 다음과 같다.</p>

<ol>
  <li>
    <p><strong>자료 구조 선택이 중요하다.</strong> 같은 데이터라도 어떤 자료 구조를 선택하느냐에 따라 메모리 사용량과 성능이 크게 달라진다.</p>
  </li>
  <li>
    <p><strong>내부 구현을 이해해야 한다.</strong> List는 Quicklist, Sorted Set은 Skiplist + Hashtable 등 내부 구현을 알아야 시간 복잡도를 예측하고 적절한 자료 구조를 선택할 수 있다.</p>
  </li>
  <li>
    <p><strong>블로킹 명령어를 피해야 한다.</strong> 레디스는 싱글 스레드이므로 KEYS, 큰 데이터의 DEL, HGETALL 등은 서비스 장애를 유발할 수 있다. SCAN, UNLINK, HSCAN 등의 대안을 사용해야 한다.</p>
  </li>
  <li>
    <p><strong>메모리는 유한하다.</strong> TTL 설정, 적절한 자료 구조 선택, maxmemory-policy 설정 등으로 메모리를 효율적으로 관리해야 한다.</p>
  </li>
</ol>

<hr />

<h3 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>REDIS FOR DEVELOPERS</li>
</ul>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%EA%B0%9C%EB%B0%9C%EC%84%9C%EC%A0%81/">개발서적</a>,
          <a href="/categories/redis-for-developers/">Redis_For_Developers</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/redis/"
            class="post-tag no-text-decoration"
          >redis</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%EB%A0%88%EB%94%94%EC%8A%A4%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90%20-%20Now's%20Log&url=https%3A%2F%2Fkguswo.dev%2Fposts%2F%25EB%25A0%2588%25EB%2594%2594%25EC%258A%25A4-%25EA%25B8%25B0%25EB%25B3%25B8-%25EA%25B0%259C%25EB%2585%2590%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%EB%A0%88%EB%94%94%EC%8A%A4%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90%20-%20Now's%20Log&u=https%3A%2F%2Fkguswo.dev%2Fposts%2F%25EB%25A0%2588%25EB%2594%2594%25EC%258A%25A4-%25EA%25B8%25B0%25EB%25B3%25B8-%25EA%25B0%259C%25EB%2585%2590%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fkguswo.dev%2Fposts%2F%25EB%25A0%2588%25EB%2594%2594%25EC%258A%25A4-%25EA%25B8%25B0%25EB%25B3%25B8-%25EA%25B0%259C%25EB%2585%2590%2F&text=%EB%A0%88%EB%94%94%EC%8A%A4%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90%20-%20Now's%20Log" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%EA%B3%B5%EA%B0%84-%EA%B2%80%EC%83%89-PostGIS-Redis-Geo/">공간 DB - PostGIS & Redis Geo </a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Real-MySQL-%EC%BF%BC%EB%A6%AC-%EC%84%B1%EB%8A%A5-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%99%80-%ED%99%95%EC%9E%A5-%EA%B2%80%EC%83%89/">Real MySQL - 쿼리 성능 테스트와 확장 검색</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/GROUP-BY%EA%B0%80-%ED%8F%AC%ED%95%A8%EB%90%9C-JOIN-UPDATE/">GROUP BY가 포함된 JOIN UPDATE</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Real-MySQL-INSERT-UPDATE-DELETE/">Real MySQL - INSERT, UPDATE, DELETE</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Real-MySQL-8.0-%EC%84%9C%EB%B8%8C%EC%BF%BC%EB%A6%AC-CTE-%EC%9E%A0%EA%B8%88%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-SELECT/">Real MySQL 8.0 : 서브쿼리, CTE, 잠금을 사용하는 SELECT</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database/">Database</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    










  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/Effective-Java-%EC%9D%B4%EC%99%95%EC%9D%B4%EB%A9%B4-%EC%A0%9C%EB%84%A4%EB%A6%AD-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A1%9C-%EB%A7%8C%EB%93%A4%EB%9D%BC/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1761029724"
  data-df="ll"
  
>
  Oct 21, 2025
</time>

              <h4 class="pt-0 my-2">[Effective Java] - 이왕이면 제네릭 메서드로 만들라</h4>
              <div class="text-muted">
                <p>Item 30 : 이왕이면 제네릭 메서드로 만들라  들어가며  클래스와 마찬가지로 메서드도 제네릭으로 만들 수 있다. Collections의 알고리즘 메서드(binarySearch, sort 등)는 모두 제네릭이다. 제네릭 메서드는 클라이언트가 직접 형변환을 해야 하는 메서드보다 훨씬 안전하고 사용하기 쉽다. 이번 아이템에서는 제네릭 메서드를 작성하는...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Effective-Java-%EB%A9%A4%EB%B2%84-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%8A%94-%EB%90%98%EB%8F%84%EB%A1%9D-static%EC%9C%BC%EB%A1%9C-%EB%A7%8C%EB%93%A4%EB%9D%BC-ihbnz2cv/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1761028744"
  data-df="ll"
  
>
  Oct 21, 2025
</time>

              <h4 class="pt-0 my-2">[Effective Java] - 비검사 경고를 제거하라</h4>
              <div class="text-muted">
                <p>Item 27 : 비검사 경고를 제거하라  들어가며  제네릭을 사용하기 시작하면 수많은 컴파일러 경고를 마주하게 된다. 비검사 형변환 경고, 비검사 메서드 호출 경고, 비검사 매개변수화 가변인수 타입 경고, 비검사 변환 경고 등이 그것이다. 제네릭에 익숙해질수록 마주치는 경고 수는 줄어들지만, 새로 작성한 코드가 한 번에 깨끗하게 컴파일되리라 기대하기...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Effective-Java-%EB%A9%A4%EB%B2%84-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%8A%94-%EB%90%98%EB%8F%84%EB%A1%9D-static%EC%9C%BC%EB%A1%9C-%EB%A7%8C%EB%93%A4%EB%9D%BC/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1760690068"
  data-df="ll"
  
>
  Oct 17, 2025
</time>

              <h4 class="pt-0 my-2">[Effective Java] - 멤버 클래스는 되도록 static으로 만들라</h4>
              <div class="text-muted">
                <p>Item 24 : 멤버 클래스는 되도록 static으로 만들라  들어가며  중첩 클래스(nested class)는 다른 클래스 안에 정의된 클래스를 말한다. 중첩 클래스는 자신을 감싼 바깥 클래스에서만 쓰여야 하며, 그 외의 쓰임새가 있다면 톱레벨 클래스로 만들어야 한다. 중첩 클래스의 종류는 네 가지다.     정적 멤버 클래스   (비정적) 멤버 ...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/Real-MySQL-%EC%BF%BC%EB%A6%AC-%EC%9E%91%EC%84%B1-%EB%B0%8F-%EC%B5%9C%EC%A0%81%ED%99%94/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Real MySQL - Ch.11 쿼리 작성 및 최적화</p>
    </a>
  

  
    <a
      href="/posts/Real-MySQL-SELECT/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Real MySQL - SELECT</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >All rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database/">Database</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Kguswo/Kguswo.github.io',
      'data-repo-id': 'R_kgDOLDedyA',
      'data-category': 'Announcements',
      'data-category-id': 'DIC_kwDOLDedyM4CunAk',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

