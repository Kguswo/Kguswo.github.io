<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="트랜잭션과 격리 수준 (+ InnoDB Transaction Model )" />
<meta property="og:locale" content="en" />
<meta name="description" content="앞서, 그림들은 직접 제작했습니다. 사용할 때 출처 작성해주세요" />
<meta property="og:description" content="앞서, 그림들은 직접 제작했습니다. 사용할 때 출처 작성해주세요" />
<link rel="canonical" href="https://kguswo.github.io/posts/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-InnoDB-Transaction-Model/" />
<meta property="og:url" content="https://kguswo.github.io/posts/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-InnoDB-Transaction-Model/" />
<meta property="og:site_name" content="Now’s Log" />
<meta property="og:image" content="https://kguswo.github.io/../assets/posts/17498eec563db62cfea9ae23ded9da85385c9272742710454dd15827c819eced.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-05-07T19:47:20+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://kguswo.github.io/../assets/posts/17498eec563db62cfea9ae23ded9da85385c9272742710454dd15827c819eced.png" />
<meta property="twitter:title" content="트랜잭션과 격리 수준 (+ InnoDB Transaction Model )" />
<meta name="twitter:site" content="@twitter_username" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-05-07T19:47:20+09:00","datePublished":"2025-05-07T19:47:20+09:00","description":"앞서, 그림들은 직접 제작했습니다. 사용할 때 출처 작성해주세요","headline":"트랜잭션과 격리 수준 (+ InnoDB Transaction Model )","image":"https://kguswo.github.io/../assets/posts/17498eec563db62cfea9ae23ded9da85385c9272742710454dd15827c819eced.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kguswo.github.io/posts/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-InnoDB-Transaction-Model/"},"url":"https://kguswo.github.io/posts/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-InnoDB-Transaction-Model/"}</script>
<!-- End Jekyll SEO tag -->


  <title>트랜잭션과 격리 수준 (+ InnoDB Transaction Model ) | Now's Log
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Now's Log">
<meta name="application-name" content="Now's Log">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profileImg.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Now's Log</a>
    <p class="site-subtitle fst-italic mb-0">Curiosity into Action</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Kguswo"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/hyeon-jae-kim-64b417299/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['nowalex322','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>트랜잭션과 격리 수준 (+ InnoDB Transaction Model )</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    

    
  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>트랜잭션과 격리 수준 (+ InnoDB Transaction Model )</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1746614840"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May  7, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/../assets/posts/17498eec563db62cfea9ae23ded9da85385c9272742710454dd15827c819eced.png" class="popup img-link preview-img shimmer"><img src="/../assets/posts/17498eec563db62cfea9ae23ded9da85385c9272742710454dd15827c819eced.png"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="7105 words"
>
  <em>39 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">트랜잭션과 격리 수준 (+ InnoDB Transaction Model )</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">트랜잭션과 격리 수준 (+ InnoDB Transaction Model )</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <blockquote>
  <p>앞서, 그림들은 직접 제작했습니다. 사용할 때 출처 작성해주세요</p>
</blockquote>

<h2 id="트랜잭션"><span class="me-2">트랜잭션</span><a href="#트랜잭션" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<hr />

<blockquote>
  <p>💡 여러 작업들을 하나로 묶은 단위로, 이렇게 묶인 작업들은 모두 실행되거나 모두 실행되지 않는다(all-or-nothing).</p>
</blockquote>

<p>읽기와 쓰기를 하나의 논리적 단위로 묶는 방법이라고 정의할 수 있다.</p>

<p><br /></p>

<p>하나의 트랜잭션 안에서 실패하면 트랜잭션 내부에서 했던 작업이 다시 진행하여도 동일한 결과를 얻을 수 있도록 트랜잭션의 처음으로 <code class="language-plaintext highlighter-rouge">rollback</code> 하여 내부에서 진행했던 작업을 초기화한다.</p>

<p>트랜잭션 내에서 실패하지 않고 정상적으로 동작을 하면 <code class="language-plaintext highlighter-rouge">commit</code> 을 통해 조작한 데이터를 실제적으로 적용한다.</p>

<p><br /><br /></p>

<h2 id="acid-특성"><span class="me-2">ACID 특성</span><a href="#acid-특성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<hr />

<ul>
  <li>
    <h4 id="원자성atomicity"><span class="me-2">원자성(Atomicity)</span><a href="#원자성atomicity" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
    <p>트랜잭션의 모든 연산이 정상적으로 수행 완료되거나 아니면 어떠한 연산도 수행되지 않는 원래 상태가 되도록 해야한다.
<br /></p>
  </li>
  <li>
    <h4 id="일관성consistency"><span class="me-2">일관성(Consistency)</span><a href="#일관성consistency" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
    <p>고립(동시에 수행되는 트랜잭션이 없는)상태에서 트랜잭션이 데이터베이스의 일관성을 보존해야 한다.
<br /></p>
  </li>
  <li>
    <h4 id="고립성isolation"><span class="me-2">고립성(Isolation)</span><a href="#고립성isolation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
    <p>여러 트랜잭션이 동시에 수행된다 하더라도, 임의의 트랜잭션 $T_1$과 $T_2$ 쌍이 있을때 시스템은 $T_1$ 에게 $T_1$이 시작되기 전에 $T_2$ 수행을 마쳤거나 $T_1$이 종료된 후에 $T_2$ 가 수행을 시작하는 것과 같이 되도록 보장해야 한다.</p>

    <p>즉, 각각의 트랜잭션은 다른 트랜잭션이 동시에 수행되고 있는지 알지 못하는 것과 동일하게 해야한다.
<br /></p>
  </li>
  <li>
    <h4 id="지속성durability"><span class="me-2">지속성(Durability)</span><a href="#지속성durability" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
    <p>트랜잭션이 성공적으로 수행되면 시스템에 오류(정전, 네트워크 이슈 등등)가 발생한다 하더라도 영구적으로 반영되어야 한다.
<br /></p>
  </li>
</ul>

<p><a href="https://velog.io/@kguswo/Computer-Science-Note-Database#3-1-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98">다음 글 참조</a></p>

<p><br /><br /></p>

<h2 id="트랜잭션-격리-수준"><span class="me-2">트랜잭션 격리 수준</span><a href="#트랜잭션-격리-수준" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<hr />
<blockquote>
  <p>💡 여러 트랜잭션이 동시에 처리될 때, 특정 트랜잭션이 다른 트랜잭션에서 변경하거나 조회하는 데이터를 볼 수 있게 허용할지 여부를 결정하는 것.</p>
</blockquote>

<p>트랜잭션의 격리 수준은 격리(고립) 수준이 높은 순서대로 <code class="language-plaintext highlighter-rouge">SERIALIZABLE</code>, <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code>, <code class="language-plaintext highlighter-rouge">READ COMMITTED</code>, <code class="language-plaintext highlighter-rouge">READ UNCOMMITED</code>가 존재한다. 참고로 아래의 예제들은 모두 <strong>자동 커밋(AUTO COMMIT)이 <code class="language-plaintext highlighter-rouge">false</code></strong>인 상태에서만 발생한다.</p>

<p><br /><br /></p>

<h3 id="1️⃣-serializable"><span class="me-2">1️⃣ SERIALIZABLE</span><a href="#1️⃣-serializable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<blockquote>
  <p>가장 엄격한 격리수준. 이름 그대로 트랜잭션을 순차적으로 진행시킨다.</p>
</blockquote>

<p>여러 트랜잭션이 동일한 레코드에 동시 접근할 수 없으므로, <strong>어떠한 데이터 부정합 문제도 발생하지 않는다</strong>. 하지만 트랜잭션이 순차적으로 처리되어야 하므로 <strong>동시 처리 성능이 매우 떨어진다</strong>.
<br /></p>

<p>MySQL에서 <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code> , <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code> 는 대상 레코드에 각각 읽기 잠금 / 쓰기 잠금을 거는 것이다.</p>

<p>일반 SELECT 문은 아무 레코드 잠금 없이 실행되고, 이를 잠금 없는 일관된 읽기(Non-locking consistent read) 라고 한다.
<br /></p>

<p>하지만 SERIALIZABLE 격리 수준에서는 일반 SELECT 작업에서도 <strong>대상 레코드에 넥스트 키 락을 읽기 잠금(공유락, Shared Lock)으로 건다</strong>. 따라서 한 트랜잭션에서 넥스트 키 락이 걸린 레코드를 다른 트랜잭션에서는 절대 추가/수정/삭제할 수 없다.</p>

<p>SERIALIZABLE은 가장 안전하지만 가장 성능이 떨어지므로, 극단적으로 안전한 작업이 필요한 경우가 아니라면 사용해서는 안된다.</p>

<p><br /><br /></p>

<h3 id="2️⃣-repeatable-read"><span class="me-2">2️⃣ REPEATABLE READ</span><a href="#2️⃣-repeatable-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<blockquote>
  <h4 id="mvcc--multi-version-concurrency-control-"><span class="me-2">MVCC ( Multi Version Concurrency Control )</span><a href="#mvcc--multi-version-concurrency-control-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
  <p>일반 RDBMS에서는 <strong>변경 전 레코드를 언두 공간에 백업해둔다</strong>. 이를 통해 변경 전/후 데이터가 모두 존재하므로, 동일한 레코드에 대해 여러 버전이 존재한다.</p>
</blockquote>

<ul>
  <li>트랜잭션이 롤백된 경우에 데이터를 복원</li>
  <li>서로 다른 트랜잭션 간에 접근할 수 있는 데이터를 세밀하게 제어
<br /></li>
</ul>

<p>각각의 <strong>트랜잭션은 순차 증가하는 고유한 트랜잭션 번호가 존재</strong>하며, 백업 레코드에는 어느 트랜잭션에 의해 백업되었는지 <strong>트랜잭션 번호를 함께 저장</strong>한다.</p>

<p>해당 데이터가 불필요해진다고 판단하는 시점에 주기적으로 백그라운드 쓰레드를 통해 삭제한다.
<br /></p>

<hr />
<p><br /></p>

<p><strong>REPEATABLE READ</strong>는 MVCC를 이용해 한 트랜잭션 내에서 동일한 결과를 보장하지만, 새로운 레코드가 추가되는 경우에 부정합이 생길 수 있다.</p>

<blockquote>
  <p>Ex) 트랜잭션을 시작하고, id = 10 이상인 레코드를 조회시 1건 조회되는 상황</p>
</blockquote>

<p><a href="/assets/posts/c3367a664c266baf4585c5e10739459fe711299ce0161f79b705ca7bd85f48da.png" class="popup img-link shimmer"><img src="/assets/posts/c3367a664c266baf4585c5e10739459fe711299ce0161f79b705ca7bd85f48da.png" alt="" loading="lazy"></a>
<br /></p>

<p>다른 사용자 A의 트랜잭션에서 id=10인 레코드를 갱신하면 MVCC를 통해 기존 데이터는 변경되지만, 백업된 데이터가 언두 로그에 남게 된다.
<a href="/assets/posts/d3bfb95c944c13f2ef0da52a6386d6f926e1a9e13be583a1eca63ca8cdff480d.png" class="popup img-link shimmer"><img src="/assets/posts/d3bfb95c944c13f2ef0da52a6386d6f926e1a9e13be583a1eca63ca8cdff480d.png" alt="" loading="lazy"></a>
<br /></p>

<p>이전에 사용자 B가 데이터를 조회했던 트랜잭션은 아직 종료되지 않은 상황에서, 사용자 B가 다시 한번 동일한 SELECT 문을 실행하면 어떻게 될까? 그 결과는 아래와 같다.
<a href="/assets/posts/ac4c582229afe7eed8cac3319b88eef9c6d838ea12896f79f0f11b37f43c33a3.png" class="popup img-link shimmer"><img src="/assets/posts/ac4c582229afe7eed8cac3319b88eef9c6d838ea12896f79f0f11b37f43c33a3.png" alt="" loading="lazy"></a>
<br /></p>

<p>사용자 B의 트랜잭션은(5) 사용자 A의 트랜잭션(10)이 시작하기 전에 이미 시작된 상태다. 
이때 REPEATABLE READ는 트랜잭션 번호를 참고하여 <strong>자신보다 먼저 실행된 트랜잭션의 데이터만을 조회한다</strong>. 만약 테이블에 자신보다 이후에 실행된 트랜잭션의 데이터가 존재한다면 언두 로그를 참고해서 데이터를 조회한다.
<br /></p>

<p>사용자 A의 트랜잭션이 시작되고 커밋까지 되었지만, 해당 트랜잭션(10)는 현재 트랜잭션(5)보다 나중에 실행되었기 때문에 조회 결과로 기존과 동일한 데이터를 얻게 된다.</p>

<blockquote>
  <p><strong>즉, <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code>는 어떤 트랜잭션이 읽은 데이터를 다른 트랜잭션이 수정하더라도 동일한 결과를 반환할 것을 보장해준다</strong>.</p>
</blockquote>

<p><br /></p>

<p>앞서 설명하였듯 REPEATABLE READ는 새로운 레코드의 <em><strong>추가</strong></em> 까지는 막지 않는다고 하였다. 따라서 <strong>SELECT로 조회한 경우 트랜잭션이 끝나기 전에 다른 트랜잭션에 의해 <code class="language-plaintext highlighter-rouge">추가된 레코드</code>가 발견될 수 있는데, 이를 <code class="language-plaintext highlighter-rouge">Phantom Read(유령 읽기)</code>라고 한다</strong>.</p>

<p>하지만 MVCC 덕분에 일반적인 조회에서 유령 읽기(Phantom Read)는 발생하지 않는다. 왜냐하면 <strong>자신보다 나중에 실행된 트랜잭션이 추가한 레코드는 무시</strong>하면 되기 때문이다. 이러한 상황을 그림으로 표현하면 다음과 같다.
<a href="/assets/posts/a76bd6868f06a50115e8f0b415479ab9700b2c463bfa0011cd02896e06e4f236.png" class="popup img-link shimmer"><img src="/assets/posts/a76bd6868f06a50115e8f0b415479ab9700b2c463bfa0011cd02896e06e4f236.png" alt="" loading="lazy"></a>
<br /></p>

<h4 id="q-그렇다면-언제-유령-읽기가-발생하는-것일까"><span class="me-2">Q. 그렇다면 언제 유령 읽기가 발생하는 것일까?</span><a href="#q-그렇다면-언제-유령-읽기가-발생하는-것일까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<blockquote>
  <p><strong>잠금이 사용되는 경우</strong>이다.</p>
</blockquote>

<p>MySQL은 다른 RDBMS와 다르게 특수한 갭 락이 존재하기 때문에, 동작이 다른 부분이 있으므로 일반적인 RDBMS 경우부터 살펴보도록 하자.
<br /></p>
<blockquote>
  <p>Ex) 사용자 B가 데이터 조회하는 경우 ( 잠금 사용 )</p>
</blockquote>

<p>사용자B가 먼저 데이터를 조회하는데, 이번에는 <code class="language-plaintext highlighter-rouge">SELECT … FOR UPDATE</code> 를 이용해 쓰기 잠금을 걸었다. </p>

<p>여기서 <code class="language-plaintext highlighter-rouge">SELECT … FOR UPDATE</code> 구문은 베타적 잠금(비관적 잠금, 쓰기 잠금)을 거는 것이다. 읽기 잠금을 걸려면 <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code> 구문을 사용해야 한다. 락은 트랜잭션이 커밋 또는 롤백될 때 해제된다. </p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>읽기 잠금 : 데이터를 읽는 동안 다른 트랜잭션이 해당 데이터를 변경하지 못하도록 보호
쓰기 잠금 : 데이터를 독점적으로 사용하기 위해, 다른 트랜잭션의 읽기/쓰기 모두 차단
</pre></td></tr></tbody></table></code></div></div>

<blockquote>
  <p>이후 사용자 A가 새로운 데이터를 INSERT하는 상황</p>
</blockquote>

<p>일반적인 DBMS에서는 갭락이 존재하지 않으므로 id = 10인 레코드만 잠금이 걸린 상태이고, 사용자 A의 요청은 잠금 없이 즉시 실행된다. 
<a href="/assets/posts/2ef1c365bbdc911364a4cd380de9dc816613475fd2de49b84bb75bac87a618f5.png" class="popup img-link shimmer"><img src="/assets/posts/2ef1c365bbdc911364a4cd380de9dc816613475fd2de49b84bb75bac87a618f5.png" alt="" loading="lazy"></a>
<br /></p>

<p>이때 사용자 B가 동일한 쓰기 잠금 쿼리로 다시 한번 데이터를 조회하면, 이번에는 2건의 데이터가 조회된다. 동일한 트랜잭션 내에서도 새로운 레코드가 추가되는 경우에 조회 결과가 달라지는데, 이렇듯 다른 트랜잭션에서 수행한 작업에 의해 레코드가 안보였다 보였다 하는 현상을 <code class="language-plaintext highlighter-rouge">Phantom Read(유령 읽기)</code>라고 한다. 이는 다른 트랜잭션에서 새로운 레코드를 추가하거나 삭제하는 경우 발생할 수 있다.
<a href="/assets/posts/158349b02bafac61e19cafef0cdb285a1c38dc32862dac2a0b7f06cd74143573.png" class="popup img-link shimmer"><img src="/assets/posts/158349b02bafac61e19cafef0cdb285a1c38dc32862dac2a0b7f06cd74143573.png" alt="" loading="lazy"></a>
<br /></p>

<p>이 경우에도 MVCC를 통해 해결될 것 같지만, 두 번째 실행되는 <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code> 때문에 그럴 수 없다. 왜냐하면 잠금있는 읽기는 데이터 조회가 언두 로그가 아닌 테이블에서 수행되기 때문이다. 잠금있는 읽기는 테이블에 변경이 일어나지 않도록 테이블에 잠금을 걸고 테이블에서 데이터를 조회한다.</p>

<p>잠금이 없는 경우처럼 언두 로그를 바라보고 언두 로그를 잠그는 것은 불가능한데, 그 이유는 언두 로그가 append only 형태이므로 잠금 장치가 없기 때문이다.</p>

<p>따라서 <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code>나 <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code>로 레코드를 조회하는 경우에는 <strong>언두 영역의 데이터가 아니라 테이블의 레코드를 가져오게 되고, 이로 인해 <code class="language-plaintext highlighter-rouge">Phantom Read</code>가 발생하는 것</strong>이다. 
<br /></p>

<p>하지만 <strong>MySQL에는 <code class="language-plaintext highlighter-rouge">Gap Lock(갭 락)</code> 이 존재하기 때문에 위의 상황에서 문제가 발생하지 않는다.</strong>
사용자 B가 <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code>로 데이터를 조회한 경우에 MySQL은 id가 10인 레코드에는 레코드 락, id가 10보다 큰 범위에는 갭 락으로 넥스트 키 락을 건다.</p>

<p>따라서 사용자 A가 id가 11인 user를 INSERT 시도한다면, B의 트랜잭션이 종료(커밋 또는 롤백)될 때 까지 기다리다가, 대기를 지나치게 오래 하면 락 타임아웃이 발생하게 된다.
<a href="/assets/posts/a80e63b142e1a2714bf38226c51b6cd4ad7630e8e38b8066044008a8c0490dc8.png" class="popup img-link shimmer"><img src="/assets/posts/a80e63b142e1a2714bf38226c51b6cd4ad7630e8e38b8066044008a8c0490dc8.png" alt="" loading="lazy"></a>
<br /></p>

<p>따라서 <strong>일반적으로 MySQL의 <code class="language-plaintext highlighter-rouge">REAPEATABLE READ</code>에서는 <code class="language-plaintext highlighter-rouge">Phantom Read</code>가 발생하지 않는다.</strong> 
<br /></p>

<p>MySQL에서 Phantom Read가 발생하는 거의 유일한 케이스는 다음과 같다.</p>
<blockquote>
  <p>사용자 B는 트랜잭션을 시작하고, 잠금없는 SELECT 문으로 데이터를 조회하였다. 그리고 사용자 A는 INSERT 문을 사용해 데이터를 추가하였다. 이때 잠금이 없으므로 바로 COMMIT 된다. 하지만 사용자 B가 <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code>로 조회를 했다면, 언두 로그가 아닌 테이블로부터 레코드를 조회하므로 Phantom Read가 발생한다.</p>
</blockquote>

<p><a href="/assets/posts/7e50729338b387445f941b12d9608b9886a693b4f1ecf36800df214ef5653e50.png" class="popup img-link shimmer"><img src="/assets/posts/7e50729338b387445f941b12d9608b9886a693b4f1ecf36800df214ef5653e50.png" alt="" loading="lazy"></a></p>

<p>하지만 이러한 케이스는 거의 존재하지 않으므로, MySQL의 REPEATABLE READ에서는 PHANTOM READ가 발생하지 않는다고 봐도 된다.</p>

<p><br /><br /></p>

<h3 id="3️⃣-read-committed"><span class="me-2">3️⃣ READ COMMITTED</span><a href="#3️⃣-read-committed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<blockquote>
  <p>READ COMMITTED는 <strong>커밋된 데이터만 조회</strong>할 수 있다.</p>
</blockquote>

<p>READ COMMITTED는 REPEATABLE READ에서 발생하는 <code class="language-plaintext highlighter-rouge">Phantom Read</code>에 더해 <code class="language-plaintext highlighter-rouge">Non-Repeatable Read(반복 읽기 불가능)</code> 문제까지 발생한다.</p>

<blockquote>
  <p>Ex) 사용자 A가 트랜잭션을 시작하여 어떤 데이터를 변경하였고, 아직 커밋은 하지 않은 상태</p>
</blockquote>

<p>그러면 테이블은 먼저 갱신되고, 언두 로그로 변경 전의 데이터가 백업된다.
<a href="/assets/posts/e81860f0d75253560a54a67f67c14a02fdfc44ac4f7842be5e252abb6acc126a.png" class="popup img-link shimmer"><img src="/assets/posts/e81860f0d75253560a54a67f67c14a02fdfc44ac4f7842be5e252abb6acc126a.png" alt="" loading="lazy"></a></p>

<p><br /></p>

<p>이때 사용자 B가 데이터를 조회하려고 하면, READ COMMITTED에서는 커밋된 데이터만 조회할 수 있으므로, REPEATABLE READ와 마찬가지로 언두 로그에서 변경 전의 데이터를 찾아서 반환하게 된다.</p>

<p>최종적으로 사용자 A가 트랜잭션을 커밋하면 그때부터 다른 트랜잭션에서도 새롭게 변경된 값을 참조할 수 있는 것이다.<a href="/assets/posts/746e64dfd4659b3515a628594d2d47917e48076308f02f0dddcc2be3b5acb988.png" class="popup img-link shimmer"><img src="/assets/posts/746e64dfd4659b3515a628594d2d47917e48076308f02f0dddcc2be3b5acb988.png" alt="" loading="lazy"></a>
<br /></p>

<p><strong>하지만 READ COMMITTED는 Non-Repeatable Read(반복 읽기 불가능) 문제가 발생할 수 있다.</strong></p>
<blockquote>
  <p>Ex) 사용자 B가 트랜잭션을 시작하고 name = “Grace”인 레코드를 조회하는 상황</p>
</blockquote>

<p>해당 조건을 만족하는 레코드는 아직 존재하지 않으므로 아무 것도 반환되지 않는다.
<a href="/assets/posts/67561f2782cf53eeebbf4794bb926da21a91e78a11a7cef8497798d4f05b41c4.png" class="popup img-link shimmer"><img src="/assets/posts/67561f2782cf53eeebbf4794bb926da21a91e78a11a7cef8497798d4f05b41c4.png" alt="" loading="lazy"></a>
<br /></p>

<p>그러다가 사용자 A가 UPDATE 문을 수행하여 해당 조건을 만족하는 레코드가 생겼다.</p>

<p>사용자 A의 작업은 <strong>커밋까지 완료된 상태</strong>이다.</p>
<h4 id="q-사용자-b가-다시-동일한-조건으로-레코드를-조회하면-어떻게-될까"><span class="me-2">Q. 사용자 B가 다시 동일한 조건으로 레코드를 조회하면 어떻게 될까?</span><a href="#q-사용자-b가-다시-동일한-조건으로-레코드를-조회하면-어떻게-될까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>READ COMMITTED 는 커밋된 데이터는 조회할 수 있도록 허용하므로 결과가 나오게 된다.
<a href="/assets/posts/7d3b02a34562e4fa2ae8d75eedc29d90080124ebc4a08bc50221ff8443a0ae87.png" class="popup img-link shimmer"><img src="/assets/posts/7d3b02a34562e4fa2ae8d75eedc29d90080124ebc4a08bc50221ff8443a0ae87.png" alt="" loading="lazy"></a></p>

<p>READ COMMITTED에서 반복 읽기를 수행하면 <strong>다른 트랜잭션의 커밋 여부에 따라 조회 결과가 달라질 수 있다.</strong> 따라서 이러한 데이터 부정합 문제를 <code class="language-plaintext highlighter-rouge">Non-Repeatable Read(반복 읽기 불가능)</code>라고 한다.
<br /></p>

<p>Non-Repeatable Read는 일반적인 경우에는 크게 문제가 되지 않지만, 하나의 트랜잭션에서 동일한 데이터를 여러 번 읽고 변경하는 작업이 금전적인 처리와 연결되면 문제가 생길 수 있다.</p>

<p>예를 들어 어떤 트랜잭션에서는 오늘 입금된 총 합을 계산하고 있는데, 다른 트랜잭션에서 계속해서 입금 내역을 커밋하는 상황이라고 하자. 
그러면 READ COMMITTED에서는 같은 트랜잭션일지라도 조회할 때마다 입금된 내역이 달라지므로 문제가 생길 수 있는 것이다. 
<br /></p>

<p>따라서 격리 수준이 어떻게 동작하는지, 그리고 격리 수준에 따라 어떠한 결과가 나오는지 예측할 수 있어야 한다.
<br /></p>

<p>READ COMMITTED 수준에서는 애초에 커밋된 데이터만 읽을 수 있기 때문에 트랜잭션 내에서 실행되는 SELECT와 트랜잭션 밖에서 실행되는 SELECT의 차이가 별로 없다.</p>

<p><br /><br /></p>

<h3 id="4️⃣-read-uncommited"><span class="me-2">4️⃣ READ UNCOMMITED</span><a href="#4️⃣-read-uncommited" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<blockquote>
  <p>READ UNCOMMITTED는 <strong>커밋하지 않은 데이터 조차도 접근할 수 있는 격리 수준이다.</strong></p>
</blockquote>

<p>READ UNCOMMITTED에서는 다른 트랜잭션의 작업이 커밋 또는 롤백되지 않아도 즉시 보이게 된다.
<br /></p>

<blockquote>
  <p>Ex) 사용자 A의 트랜잭션에서 INSERT를 통해 데이터를 추가하는 상황.</p>
</blockquote>

<p>아직 커밋 또는 롤백이 되지 않은 상태임에도 불구하고 READ UNCOMMITTED는 변경된 데이터에 접근할 수 있다.
<a href="/assets/posts/a01fc2e711edebb8de6a0aee869268d67f1ea45576546046cc7e03c24c1b76ca.png" class="popup img-link shimmer"><img src="/assets/posts/a01fc2e711edebb8de6a0aee869268d67f1ea45576546046cc7e03c24c1b76ca.png" alt="" loading="lazy"></a>
<br /></p>

<p>이렇게 어떤 트랜잭션의 작업이 완료되지 않았는데도, 다른 트랜잭션에서 볼 수 있는 부정합 문제를 <code class="language-plaintext highlighter-rouge">Dirty Read(오손 읽기)</code>라고 한다.</p>

<p><code class="language-plaintext highlighter-rouge">Dirty Read</code>는 데이터가 조회되었다가 사라지는 현상을 초래하므로 시스템에 상당한 혼란을 주게 된다.</p>

<h4 id="q-만약-위의-경우에-사용자-a가-커밋이-아닌-롤백을-수행한다면-어떻게-될까"><span class="me-2">Q. 만약 위의 경우에 사용자 A가 커밋이 아닌 롤백을 수행한다면 어떻게 될까?</span><a href="#q-만약-위의-경우에-사용자-a가-커밋이-아닌-롤백을-수행한다면-어떻게-될까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p><a href="/assets/posts/aba4f04389c7e03d684edc4f22375ce05c41d3ff740a13dc85dd62f58561aa20.png" class="popup img-link shimmer"><img src="/assets/posts/aba4f04389c7e03d684edc4f22375ce05c41d3ff740a13dc85dd62f58561aa20.png" alt="" loading="lazy"></a></p>

<p>사용자 B의 트랜잭션은 id = 11인 데이터를 계속 처리하고 있을 텐데, 다시 데이터를 조회하니 결과가 존재하지 않는 상황이 생긴다. 이러한 Dirty Read 상황은 시스템에 상당한 버그를 초래할 것이다.</p>

<p>그래서 READ UNCOMMITTED는 RDBMS 표준에서 인정하지 않을 정도로 정합성에 문제가 많은 격리 수준이다. 따라서 MySQL을 사용한다면** 최소한 <code class="language-plaintext highlighter-rouge">READ COMMITTED</code> 이상의 격리 수준을 사용**해야 한다.</p>

<p><br /></p>

<hr />

<p>+) 공식문서 번역본.
<br /></p>

<blockquote>
  <h1 id="innodb-transaction-model">InnoDB Transaction Model</h1>
</blockquote>

<hr />
<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code> transaction Model의 목적은 <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_mvcc">multi-versioning</a> 데이터베이스의 속성을 전통적인 2 단계 잠금과 결합하는 것이다.</p>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>는 행 수준에서 lock을 수행하고, 기본적으로 Oracle 스타일인 nonlocking <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_consistent_read">consistent reads</a> 방식으로 쿼리를 실행한다. <code class="language-plaintext highlighter-rouge">InnoDB</code>의 lock 정보는 공간적으로 효율적이게 저장되므로, ***** lock escalation이 필요하지 않다. 일반적으로 여러 사용자에게 <code class="language-plaintext highlighter-rouge">InnoDB</code> 메모리 낭비를 유발하지 않으면서, <code class="language-plaintext highlighter-rouge">InnoDB</code> 테이블의 모든 행, 임의의 행 하위 집합을 lock 할 수 있게 한다.</p>

<h5 id="-lock-escalation"><span class="me-2">* Lock escalation</span><a href="#-lock-escalation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>락 에스컬레이션이란 많은 작은 단위의 락(세밀한 락)을 더 적은 수의 큰 단위 락(넓은 범위의 락)으로 전환하는 과정.

Ex)

시작 상황: 데이터베이스가 테이블의 많은 개별 행들에 대해 각각 락을 걸고 있음
문제 발생: 락이 너무 많아져서 데이터베이스 메모리에 부담이 생김
해결 방법: 시스템이 자동으로 여러 개의 행 락을 하나의 테이블 락으로 변환함

장점:
   - 메모리 사용량을 줄일 수 있음
   - 락 부족으로 인한 오류(SQL0912N)를 방지할 수 있음

단점:
   - 동시성이 떨어짐 (여러 사용자가 동시에 같은 테이블을 사용하기 어려워짐)
   - 다른 애플리케이션의 테이블 접근을 방해할 수 있음

쉽게 비유하자면, 마치 개별 좌석에 대한 예약을 전체 구역 예약으로 바꾸는 것과 비슷하다.
관리는 쉬워지지만, 다른 사람들이 그 구역의 좌석을 사용할 수 없게 된다.
</pre></td></tr></tbody></table></code></div></div>

<p><br /><br /></p>

<h2 id="transaction-isolation-levels"><span class="me-2">Transaction Isolation Levels</span><a href="#transaction-isolation-levels" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<hr />

<p><strong>Isolation</strong>은 데이터베이스 작업의 기본 중 하나이다. <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_acid">ACID</a> 약어 중 I는 isolation 이다. isolation level은 여러 트랜잭션이 동시에 데이터를 변경하고, 쿼리를 수행할 때, 결과의 성능, 안정성, 일관성, 재현성 간의 균형을 조정하는 단계이다.</p>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>는 <code class="language-plaintext highlighter-rouge">READ UNCOMMITTED</code>, <code class="language-plaintext highlighter-rouge">READ COMMITTED</code>, <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code> 그리고 <code class="language-plaintext highlighter-rouge">SERIALIZABLE</code>의 4 가지 트랜잭션 isolation level을 모두 제공한다.</p>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>의 기본 isolation level은 <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code> 이다.</p>

<p><br /></p>

<p>사용자는 <code class="language-plaintext highlighter-rouge">SET TRANSACTION</code> 문으로 단일 세션 또는 모든 후속 연결의 isolation level을 변경할 수 있다. 모든 연결에 대해 서버의 기본 isolation level을 설정하려면, command line 또는 옵션 파일에서 <code class="language-plaintext highlighter-rouge">--transaction-isolation</code> 옵션을 사용하면 된다. (isolation level 및 <code class="language-plaintext highlighter-rouge">level 설정 문법</code>에 대한 자세한 내용은 <a href="https://dev.mysql.com/doc/refman/8.0/en/set-transaction.html">13.3.7 “SET TRANSACTION Statement”</a>을 참조)</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>는 여러 트랜잭션 isolation 레벨을 지원하는데, 각 레벨은 여기에 설명된대로 각각 다른 locking 전략을 사용한다.</p>

<p>ACID를 준수해야 하는 중요한 데이터라면, 일관성 정도를 기본적으로 <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code> 레벨로 높이는 것이 좋다.</p>

<p>하지만 매우 정확할 필요가 없는 경우이거나 반복적 읽기를 할 때 일관성을 유지해야 것이 덜 중요한 bulk reporting과 같은 경우, 일관성 규칙을 완화하면서 locking에 의한 overhead를 최소화하기 위해 <code class="language-plaintext highlighter-rouge">READ COMMITTED</code> 또는 <code class="language-plaintext highlighter-rouge">READ UNCOMMITTED</code>를 사용하는 것도 좋다.</p>

<p><code class="language-plaintext highlighter-rouge">SERIALIZABLE</code>은 <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code>보다 더 엄격한 규칙을 적용하며, 주로 <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_xa">XA</a> 트랜잭션과 같은 특수한 상황과 동시성, deadlock 문제를 해결하는 데 사용된다.</p>

<p>다음은 MySQL이 지원하는 트랜잭션 레벨에 대해 설명한다. 가장 일반적으로 사용되는 레벨에서 가장 적게 사용 되는 레벨 순으로 정렬되어 있다.</p>

<p><br /></p>

<h3 id="-repeatable-read"><span class="me-2">💡 REPEATABLE READ</span><a href="#-repeatable-read" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>의 isolation 레벨 기본값이다. <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_consistent_read">consistency reads</a>는 같은 트랜잭션 내에서 첫 번째 읽기에서 설정된 스냅 샷을 읽는다. 이는 동일한 트랜잭션 내에서 (nonlocking) <code class="language-plaintext highlighter-rouge">SELECT</code> 문을 여러 번 사용하는 경우, <code class="language-plaintext highlighter-rouge">SELECT</code> 문의 결과가 일관성이 있음을 의미한다.</p>

<p>locking reads ( <code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code>, <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code> ), <code class="language-plaintext highlighter-rouge">UPDATE</code> 그리고 <code class="language-plaintext highlighter-rouge">DELETE</code> 문의 경우, locking은 명령문이 unique 한 검색 조건으로 unique index를 사용하는지, 범위 유형 검색 조건을 사용하는지에 따라 다르다.</p>

<ul>
  <li>
    <p>unique 한 검색 조건을 가진 unique 인덱스의 경우, <code class="language-plaintext highlighter-rouge">InnoDB</code>는 검색된 인덱스 레코드만 lock 하고, 그 이전의 gap에 대해서는 lock 하지 않는다.</p>
  </li>
  <li>
    <p>그렇지 않은 조건으로 검색하는 경우, <code class="language-plaintext highlighter-rouge">InnoDB</code>는 <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_gap_lock">gap lock</a> 또는 <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_next_key_lock">next-key lock</a>을 사용하여 검색된 index 범위를 lock 해, 다른 세션이 해당 범위를 포함하는 gap으로 삽입되는 것을 차단한다.</p>
  </li>
</ul>

<p><br /></p>

<h3 id="-read-committed"><span class="me-2">💡 READ COMMITTED</span><a href="#-read-committed" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>각각의 consistent read는 동일한 트랜잭션 내에 있을 일지라도 자신만의 신선한 스냅샷을 설정하고 읽는다.</p>

<p>locking reads(<code class="language-plaintext highlighter-rouge">SELECT ... FOR UPDATE</code>, <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code>), <code class="language-plaintext highlighter-rouge">UPDATE</code> 그리고 <code class="language-plaintext highlighter-rouge">DELETE</code> 문의 경우, <code class="language-plaintext highlighter-rouge">InnoDB</code>는 index record만 lock 하고, 이전의 gap은 하지 않는다. 그래서 lock 된 곳 다음에 새 레코드를 자유롭게 삽입 할 수 있다. gap lock은 foreign-key constraint 검사와 duplicate-key 검사에만 사용된다.</p>

<p>gap locking이 비활성화 되어 있기 때문에, 다른 세션에서 gap에 새로운 row를 삽입 할 수 있으므로, phantom 문제가 발생할 수 있다.</p>

<p><code class="language-plaintext highlighter-rouge">READ COMMITTED</code> isolation level에서는 행 기반 binary 로깅만 지원된다. <a href="https://dev.mysql.com/doc/refman/8.0/en/replication-options-binary-log.html#sysvar_binlog_format">binlog_format = MIXED</a>와 함께 <code class="language-plaintext highlighter-rouge">READ COMMITTED</code>를 사용하면 서버는 자동으로 행 기반 로깅을 사용한다.</p>

<p><code class="language-plaintext highlighter-rouge">READ COMMITTED</code>를 사용하면 다음과 같은 효과가 있다.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">UPDATE</code>, <code class="language-plaintext highlighter-rouge">DELETE</code> 문의 경우, <code class="language-plaintext highlighter-rouge">InnoDB</code>는 업데이트하거나 삭제하는 행에 대해서만 lock을 유지한다. 행에 대한 레코드 lock은 MySQL이 WHERE 조건을 평가 했을 때 일치하지 않는 경우 해제된다. 이로써 deadlock이 발생할 가능성이 크게 줄어들지만 여전히 발생할 가능성이 있다.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">UPDATE</code> 문의 경우, 행이 이미 lock을 얻었다면 <code class="language-plaintext highlighter-rouge">InnoDB</code>는 행이 <code class="language-plaintext highlighter-rouge">UPDATE</code>문의 <code class="language-plaintext highlighter-rouge">WHERE</code> 조건과 일치하는지를 MySQL이 결정할 수 있게, 가장 최신의 커밋된 버전을 MySQL로 반환하는 “semi-consistent” 읽기를 수행한다. 일치하나는 경우(업데이트해야 한다) MySQL은 행을 다시 읽고 이번에는 <code class="language-plaintext highlighter-rouge">InnoDB</code>가 행을 lock 하거나 lock을 얻기위해 기다린다.</p>
  </li>
</ul>

<p><br /></p>

<p>다음 예제를 보자.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">)</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> 
<span class="k">COMMIT</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이 경우 테이블에 index가 없어서 검색과 index 스캔은 indexed columns 대신 record locking을 위해 hidden clustered index(<a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html">Section 15.6.2.1, “Clustered and Secondary Indexes”</a>를 참고)를 사용한다.</p>

<p>한 세션이 다음 명령문을 사용하여 UPDATE를 수행한다고 가정해보자.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="k">Session</span> <span class="n">A</span> 
<span class="k">START</span> <span class="n">TRANSACTION</span><span class="p">;</span> 
<span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">5</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이번에는 두 번째 세션이 다음의 명령문을 실행하여 UPDATE를 수행한다고 가정해보자.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">#</span> <span class="k">Session</span> <span class="n">B</span> 
<span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">InnoDB</code>는 <code class="language-plaintext highlighter-rouge">UPDATE</code>를 실행할 때마다, 우선 각 행에 대해 exclusive lock을 획득 한 후, 수정할지 여부를 결정한다. <code class="language-plaintext highlighter-rouge">InnoDB</code>가 행을 수정하지 않으면, lock이 해제된다. 수정하는 경우 <code class="language-plaintext highlighter-rouge">InnoDB</code>는 트랜잭션이 끝날 때까지 lock을 유지한다. 이는 계속되는 설명과 같이 트랜잭션 처리에 영향을 주게된다.</p>

<p>isolation 레벨의 기본값인 <code class="language-plaintext highlighter-rouge">REPEATABLE READ</code> 사용하는 경우, 첫 번째의 <code class="language-plaintext highlighter-rouge">UPDATE</code>는 각 행에서 x-lock을 획득한 후, 행을 읽고 lock을 해제하지 않는다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span>
</pre></td></tr></tbody></table></code></div></div>

<p>두 번째의 <code class="language-plaintext highlighter-rouge">UPDATE</code>는 lock을 획득하려고 시도 하자마자 (첫 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>가 모든 행에 대한 잠금을 유지하고 있기 때문에) 차단당한다. 첫 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>가 커밋되거나 롤백 될 때까지 진행되지 않는다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">block</span> <span class="k">and</span> <span class="n">wait</span> <span class="k">for</span> <span class="k">first</span> <span class="k">UPDATE</span> <span class="k">to</span> <span class="k">commit</span> <span class="k">or</span> <span class="n">roll</span> <span class="n">back</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">READ COMMITTED</code>를 사용하는 경우, 첫 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>는 각 행에서 x-lock을 획득하고 수정되지 않을 행에 대해 x-lock을 반환한다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">unlock</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">unlock</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="n">unlock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>두 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>의 경우, InnoDB는 “semi-consistent” 읽기를 수행하여, MySQL이 <code class="language-plaintext highlighter-rouge">UPDATE</code>의 <code class="language-plaintext highlighter-rouge">WHERE</code> 조건과 행이 일치하는지 여부를 판별 할 수 있도록, MySQL로 읽는 각 행의 가장 최신의 커밋된 버전을 리턴합니다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="n">unlock</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="n">unlock</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> 
<span class="n">x</span><span class="o">-</span><span class="k">lock</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span> <span class="k">update</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">to</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">retain</span> <span class="n">x</span><span class="o">-</span><span class="k">lock</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그러나 <code class="language-plaintext highlighter-rouge">WHERE</code> 조건에 indexed column이 포함되어 있고, <code class="language-plaintext highlighter-rouge">InnoDB</code>가 인덱스를 사용하는 경우, record lock을 수행하고 유지할 때 indexed column만 고려된다. 다음 예에서 첫 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>는 b = 2 인 각 행에서 x-lock을 가져와서 유지한다. 두 번째 <code class="language-plaintext highlighter-rouge">UPDATE</code>도 마찬가지로 column b에 정의된 index를 사용하므로 동일한 레코드에서 x-lock을 획득하려고 할 때 차단된다.</p>

<div class="language-sql highlighter-rouge"><div class="code-header">
        <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">t</span> <span class="p">(</span><span class="n">a</span> <span class="nb">INT</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">b</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">c</span> <span class="nb">INT</span><span class="p">,</span> <span class="k">INDEX</span> <span class="p">(</span><span class="n">b</span><span class="p">))</span> <span class="n">ENGINE</span> <span class="o">=</span> <span class="n">InnoDB</span><span class="p">;</span> 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">t</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="k">COMMIT</span><span class="p">;</span> 

<span class="o">#</span> <span class="k">Session</span> <span class="n">A</span> 
<span class="k">START</span> <span class="n">TRANSACTION</span><span class="p">;</span> 
<span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">AND</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> 

<span class="o">#</span> <span class="k">Session</span> <span class="n">B</span> 
<span class="k">UPDATE</span> <span class="n">t</span> <span class="k">SET</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">WHERE</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span> <span class="k">AND</span> <span class="k">c</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">READ COMMITTED</code> isolation level은 server를 시작할 때 설정하거나 런타임에 변경될 수 있다. 런타임시 모든 세션에 대해 전체적으로 설정하거나 개별적인 세션별로 설정할 수도 있다.</p>

<p><br /></p>

<h3 id="-read-uncommitted"><span class="me-2">💡 READ UNCOMMITTED</span><a href="#-read-uncommitted" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><code class="language-plaintext highlighter-rouge">SELECT</code> 문은 nonlocking 방식으로 수행되지만, 이전 버전의 행이 사용될 가능성이 있다. 따라서 이 isolation 수준을 사용하면 일관성 있는 읽기를 하기 어렵다. 이 방식을 <a href="https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_dirty_read">dirty read</a>라고 부르기도 한다. 그 반대로의 isolation level은 <code class="language-plaintext highlighter-rouge">READ COMMITTED</code>와 같이 작동힌다.</p>

<p><br /></p>

<h3 id="-serializable"><span class="me-2">💡 SERIALIZABLE</span><a href="#-serializable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><code class="language-plaintext highlighter-rouge">REPEATABLE READ</code>와 비슷하지만 <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_autocommit"><code class="language-plaintext highlighter-rouge">autocommit</code></a>이 비활성화 된 경우 <code class="language-plaintext highlighter-rouge">InnoDB</code>는 모든 일반 <code class="language-plaintext highlighter-rouge">SELECT</code> 문을 암시적으로 <code class="language-plaintext highlighter-rouge">SELECT ... FOR SHARE</code>와 같이 변환시킨다. <code class="language-plaintext highlighter-rouge">autocommit</code>이 활성화 된 경우 <code class="language-plaintext highlighter-rouge">SELECT</code>는 자체적으로 트랜잭션이 된다. 따라서, 읽기 전용으로 알려져 있고, 일관된(nonlocking) 읽기로 수행되고 다른 트랜잭션을 차단할 필요가 없는 경우 직렬화 할 수 있습니다. (다른 트랜잭션이 선택한 행을 수정하는 경우 일반 SELECT를 강제로 차단하려면 자동 복제를 사용하지 않도록 설정하자.)</p>

<p><br /><br /></p>

<blockquote>
  <h3 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
  <ul>
    <li><a href="https://velog.io/@kguswo/Computer-Science-Note-Database#3-1-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98">트랜잭션과 무결성</a></li>
    <li><a href="https://www.ibm.com/docs/en/db2/11.5.x?topic=management-lock-escalation">Lock escalation</a></li>
    <li><a href="https://mangkyu.tistory.com/299">트랜잭션의 격리 수준</a></li>
    <li><a href="https://github.com/i-kay/mysql-innodb-doc-8.0-kr/blob/master/docs/15.7-InnoDB-Locking-and-Transaction-Model.md">InnoDB Locking and Transaction Model</a></li>
  </ul>
</blockquote>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4/">데이터베이스</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/database/"
            class="post-tag no-text-decoration"
          >Database</a>
        
          <a
            href="/tags/innodb/"
            class="post-tag no-text-decoration"
          >InnoDB</a>
        
          <a
            href="/tags/mysql/"
            class="post-tag no-text-decoration"
          >mysql</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC%20%EA%B2%A9%EB%A6%AC%20%EC%88%98%EC%A4%80%20(+%20InnoDB%20Transaction%20Model%20)%20-%20Now's%20Log&url=https%3A%2F%2Fkguswo.github.io%2Fposts%2F%25ED%258A%25B8%25EB%259E%259C%25EC%259E%25AD%25EC%2585%2598%25EA%25B3%25BC-%25EA%25B2%25A9%25EB%25A6%25AC-%25EC%2588%2598%25EC%25A4%2580-InnoDB-Transaction-Model%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC%20%EA%B2%A9%EB%A6%AC%20%EC%88%98%EC%A4%80%20(+%20InnoDB%20Transaction%20Model%20)%20-%20Now's%20Log&u=https%3A%2F%2Fkguswo.github.io%2Fposts%2F%25ED%258A%25B8%25EB%259E%259C%25EC%259E%25AD%25EC%2585%2598%25EA%25B3%25BC-%25EA%25B2%25A9%25EB%25A6%25AC-%25EC%2588%2598%25EC%25A4%2580-InnoDB-Transaction-Model%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fkguswo.github.io%2Fposts%2F%25ED%258A%25B8%25EB%259E%259C%25EC%259E%25AD%25EC%2585%2598%25EA%25B3%25BC-%25EA%25B2%25A9%25EB%25A6%25AC-%25EC%2588%2598%25EC%25A4%2580-InnoDB-Transaction-Model%2F&text=%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EA%B3%BC%20%EA%B2%A9%EB%A6%AC%20%EC%88%98%EC%A4%80%20(+%20InnoDB%20Transaction%20Model%20)%20-%20Now's%20Log" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/System-Design-Interview-%EA%B2%80%EC%83%89%EC%96%B4-%EC%9E%90%EB%8F%99%EC%99%84%EC%84%B1-%EC%8B%9C%EC%8A%A4%ED%85%9C/">System Design Interview - 검색어 자동완성 시스템</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/15%EB%B6%84%EC%9D%B4%EB%A9%B4-%EC%B6%A9%EB%B6%84%ED%95%A0-%EC%A4%84-%EC%95%8C%EC%95%98%EB%8A%94%EB%8D%B0/.-Cloud-Run-%EC%BD%9C%EB%93%9C-%EC%8A%A4%ED%83%80%ED%8A%B8-%EC%82%BD%EC%A7%88%EA%B8%B0/">Cloud Run 콜드 스타트 삽질기</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Effective-Java-Ch.2-Item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/">Effective Java - Ch.2 (Item 1) 생성자 대신 정적 팩터리 메서드를 고려하라</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/BOJ1514%EC%9E%90%EB%AC%BC%EC%87%A0-Java/">BOJ_1514_자물쇠 (Java)</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%EB%AC%B4%EB%A3%8C%EB%A1%9C-%EA%B5%AC%EC%B6%95%ED%95%98%EB%8A%94-%ED%98%91%EC%97%85-%EC%9E%90%EB%8F%99%ED%99%94-Trello-Github-Slack/">무료로 구축하는 협업 자동화 : Trello + Github + Slack</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/Subquery-vs-Join/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1748861131"
  data-df="ll"
  
>
  Jun  2, 2025
</time>

              <h4 class="pt-0 my-2">Subquery vs Join</h4>
              <div class="text-muted">
                <p>> 개발을 하며 쿼리를 작성할 때 여러 테이블에서 데이터를 가져오기 위해 서브쿼리나 조인을 사용한 경험이 있을 것이다. 이때 어떤 방법을 선택하는것이 더 나은지에 대한 고찰을 해 보았다.    ## Subquery와 종류 > 쿼리 안에 또 다른 쿼리가 들어간 것 > 상황에 따라 메인 쿼리의 WHERE, FROM, SELECT 절에 새로운 쿼리를 넣을 ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/MySQL-%EC%98%B5%ED%8B%B0%EB%A7%88%EC%9D%B4%EC%A0%80-%EC%97%90%EB%9F%AC/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1748517769"
  data-df="ll"
  
>
  May 29, 2025
</time>

              <h4 class="pt-0 my-2">MySQL 옵티마이저 에러</h4>
              <div class="text-muted">
                <p>## 옵티마이저 에러 & 힌트  옵티마이저는 제한된 정보를 이용해서 최적의 실행계획을 최대한 짧은 시간안에 수립해야한다. 따라서 빠르고 정확하게 실행되어야한다.  실제 실무에서 RDBMS사용할 때 옵티마이저 관련 오류가 많이 발생하고 이런 문제를 최대한 회피하고자 옵티마이저 힌트를 사용하고, 많은 힌트 기능들이 제공된다.   **SQL문장에서 옵티마이...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/InnoDB-%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%9E%A0%EA%B8%88-%EC%8B%A4%EC%8A%B5%ED%95%B4%EB%B3%B4%EA%B8%B0-MySQL/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1747221730"
  data-df="ll"
  
>
  May 14, 2025
</time>

              <h4 class="pt-0 my-2">InnoDB 인덱스 잠금 실습해보기 (MySQL)</h4>
              <div class="text-muted">
                <p># MySQL InnoDB의 인덱스 잠금 메커니즘 테스트 및 분석    > ### 들어가며 MySQL의 InnoDB 스토리지 엔진은 레코드 기반의 잠금 방식을 사용하지만, 흥미로운 점은 레코드 자체를 잠그는 것이 아니라 인덱스를 잠근다는 것입니다. 이 특성이 실제로 어떻게 동작하는지, 그리고 데이터베이스 설계와 성능에 어떤 영향을 미치는지 직접 테스트...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/BOJ2258%EC%A0%95%EC%9C%A1%EC%A0%90-Java/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>BOJ_2258_정육점 (Java)</p>
    </a>
  

  
    <a
      href="/posts/Real-MySQL/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Real MySQL - Ch 4</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://github.com/Kguswo">Hyeon Jae Kim</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >All rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.3.1"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">Java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C++</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EB%B0%B1%EC%97%94%EB%93%9C/">백엔드</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">Spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/sql/">sql</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">leetcode</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script>
  (function () {
    const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed');
    const initTheme = themeMapper[Theme.visualState];

    let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) {
      lang = lang.slice(0, 2);
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'Kguswo/Kguswo.github.io',
      'data-repo-id': 'R_kgDOLDedyA',
      'data-category': 'Announcements',
      'data-category-id': 'DIC_kwDOLDedyM4CunAk',
      'data-mapping': 'pathname',
      'data-strict' : '0',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': lang,
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusNode = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusNode.setAttribute(key, value)
    );

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement("beforebegin", giscusNode);

    addEventListener('message', (event) => {
      if (event.source === window && event.data && event.data.id === Theme.ID) {
        const newTheme = themeMapper[Theme.visualState];

        const message = {
          setConfig: {
            theme: newTheme
          }
        };

        const giscus =
          document.getElementsByClassName('giscus-frame')[0].contentWindow;
        giscus.postMessage({ giscus: message }, 'https://giscus.app');
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

